<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Align Tools | Sylvanas Forever</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Alignment" />
  
  
  
  
  <meta name="description" content="$\mathfrak{Fast\ \ \ Align}$">
<meta property="og:type" content="article">
<meta property="og:title" content="Align Tools">
<meta property="og:url" content="http://example.com/2021/11/23/Align-Tools/index.html">
<meta property="og:site_name" content="Sylvanas Forever">
<meta property="og:description" content="$\mathfrak{Fast\ \ \ Align}$">
<meta property="og:locale">
<meta property="og:image" content="https://github.com/Rexbalaeniceps/pICtUReS/blob/main/alignment.png?raw=true">
<meta property="article:published_time" content="2021-11-23T07:08:19.000Z">
<meta property="article:modified_time" content="2021-11-29T14:07:42.725Z">
<meta property="article:author" content="wbxu">
<meta property="article:tag" content="Alignment">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/Rexbalaeniceps/pICtUReS/blob/main/alignment.png?raw=true">
  
    <link rel="alternate" href="/atom.xml" title="Sylvanas Forever" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/favicon.ico">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
    
  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Yanone+Kaffeesatz%3A200%2C300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">

  <link rel="stylesheet" id="athemes-headings-fonts-css" href="//fonts.googleapis.com/css?family=Oswald%3A300%2C400%2C700&amp;ver=4.6.1" type="text/css" media="all">
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >
  <link rel="stylesheet" href="/css/fashion.css" >
  <link rel="stylesheet" href="/css/glyphs.css" >

<meta name="generator" content="Hexo 5.4.0"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  


<header id="allheader" class="site-header" role="banner" 
   >
  <div class="clearfix container">
      <div class="site-branding">

          <h1 class="site-title">
            
              <a href="/" rel="home" >
                <img style="margin-bottom: 10px;"  width="149px" height="200px" alt="Hike News" src=" /Syl.jpg">
              </a>
            
          </h1>
          
          
            <div class="site-description">wbxu&#39;s blog</div>
          
            
          <nav id="main-navigation" class="main-navigation" role="navigation">
            <a class="nav-open">Menu</a>
            <a class="nav-close">Close</a>

            <div class="clearfix sf-menu">
              <ul id="main-nav" class="menu sf-js-enabled sf-arrows"  style="touch-action: pan-y;">
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="/"> <a class="" href="/">Home</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="archives"> <a class="" href="/archives">Archives</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="categories"> <a class="" href="/categories">Categories</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="tags"> <a class="" href="/tags">Tags</a> </li>
                    
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1663" linktext="about"> <a class="" href="/about">About</a> </li>
                    
              </ul>
            </div>
          </nav>

      </div>
  </div>
</header>


  <div id="container">
    <div id="wrap">
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-Align-Tools" style="width: 66%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="clearfix post-1016 post type-post status-publish format-standard has-post-thumbnail hentry category-template-2 category-uncategorized tag-codex tag-edge-case tag-featured-image tag-image tag-template">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" target="_blank" href="https://github.com/Rexbalaeniceps/pICtUReS/blob/main/alignment.png?raw=true" rel="gallery_cl78o0ep40009bghh1yr88m6c noopener">
        <img src="https://github.com/Rexbalaeniceps/pICtUReS/blob/main/alignment.png?raw=true" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      Align Tools
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2021/11/23/Align-Tools/" class="article-date">
	  <time datetime="2021-11-23T07:08:19.000Z" itemprop="datePublished">November 23, 2021</time>
	</a>

      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Statistical-Machine-Translation/">Statistical Machine Translation</a>
 
      
	<span id="busuanzi_container_page_pv">
	  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
	</span>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="mathfrak-Fast-Align"><a href="#mathfrak-Fast-Align" class="headerlink" title="$\mathfrak{Fast\ \ \ Align}$"></a>$\mathfrak{Fast\ \ \ Align}$</h3><span id="more"></span>

<h4 id="1-从-Github-上下载-fast-align"><a href="#1-从-Github-上下载-fast-align" class="headerlink" title="1. 从 Github 上下载 fast_align"></a>1. 从 Github 上下载 fast_align</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/clab/fast_align">fast_align</a></p>
</blockquote>
<h4 id="2-通过以下命令编译-fast-align"><a href="#2-通过以下命令编译-fast-align" class="headerlink" title="2. 通过以下命令编译 fast_align"></a>2. 通过以下命令编译 fast_align</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br></pre></td></tr></table></figure>



<h4 id="3-准备平行语料-可以-tokenize-也可以不-tokenize"><a href="#3-准备平行语料-可以-tokenize-也可以不-tokenize" class="headerlink" title="3. 准备平行语料 ( 可以 tokenize , 也可以不 tokenize )"></a>3. 准备平行语料 ( 可以 tokenize , 也可以不 tokenize )</h4><blockquote>
<p>我使用的是 tokenized WMT14 En-De 训练数据集:</p>
<ul>
<li><p>英语数据样本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I declare resumed the session of the European Parliament ad@@ jour@@ ned on Friday 17 December 1999 , and I would like once again to wish you a happy new year in the hope that you enjoyed a pleasant fes@@ tive period .</span><br><span class="line">Although , as you will have seen , the d@@ read@@ ed &amp;apos; millenn@@ ium bug &amp;apos; failed to materi@@ alise , still the people in a number of countries suffered a series of natural disasters that truly were d@@ read@@ ful .</span><br></pre></td></tr></table></figure></li>
<li><p>德语数据样本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ich erkläre die am Freitag , dem 17. Dezember unterbro@@ ch@@ ene Sitzungsperiode des Europäischen Parlaments für wieder@@ aufgenommen , wünsche Ihnen nochmals alles Gute zum Jahres@@ wechsel und hoffe , daß Sie schöne Ferien hatten .</span><br><span class="line">Wie Sie feststellen konnten , ist der ge@@ für@@ chtete &amp;quot; Mill@@ en@@ ium @-@ Bu@@ g &amp;quot; nicht eingetreten . Doch sind Bürger einiger unserer Mitgliedstaaten Opfer von schrecklichen Naturkatastrophen geworden .</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h4 id="4-编写-python-来执行-fast-align"><a href="#4-编写-python-来执行-fast-align" class="headerlink" title="4. 编写 python 来执行 fast_align"></a>4. 编写 python 来执行 fast_align</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_align_preprocess</span>(<span class="params">path</span>):</span></span><br><span class="line">    src_path = path + <span class="string">&quot;/train.src&quot;</span></span><br><span class="line">    tgt_path = path + <span class="string">&quot;/train.tgt&quot;</span></span><br><span class="line">    res_path = path + <span class="string">&quot;/result.txt&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(src_path, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> src_file, <span class="built_in">open</span>(tgt_path, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> tgt_file:</span><br><span class="line">        src_sentences = src_file.readlines()</span><br><span class="line">        tgt_sentences = tgt_file.readlines()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(res_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">for</span> src, tgt <span class="keyword">in</span> <span class="built_in">zip</span>(src_sentences, tgt_sentences):</span><br><span class="line">            res = src[:-<span class="number">1</span>] + <span class="string">&quot; ||| &quot;</span> + tgt[:-<span class="number">1</span>]</span><br><span class="line">            file.write(res + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">use_fast_align</span>(<span class="params">path</span>):</span></span><br><span class="line">    align = <span class="string">r&quot;/data/wbxu/fast_align-master/build/fast_align&quot;</span></span><br><span class="line">    atools = <span class="string">r&quot;/data/wbxu/fast_align-master/build/atools&quot;</span></span><br><span class="line">    res_path = path + <span class="string">&quot;/result.txt&quot;</span></span><br><span class="line">    save_path1 = path + <span class="string">&quot;/wmt14_en-de_source-target.align&quot;</span></span><br><span class="line">    save_path2 = path + <span class="string">&quot;/wmt14_en-de_target-source.align&quot;</span></span><br><span class="line">    save_path3 = path + <span class="string">&quot;/wmt14_en-de_symmetrized.align&quot;</span></span><br><span class="line"></span><br><span class="line">    total_path_forward = align + <span class="string">&quot; -i &quot;</span> + res_path + <span class="string">&quot; -d -o -v &gt; &quot;</span> + save_path1</span><br><span class="line">    os.system(total_path_forward)</span><br><span class="line"></span><br><span class="line">    total_path_reverse = align + <span class="string">&quot; -i &quot;</span> + res_path + <span class="string">&quot; -d -o -v -r &gt; &quot;</span> + save_path2</span><br><span class="line">    os.system(total_path_reverse)</span><br><span class="line"></span><br><span class="line">    symmetrize_path = atools + <span class="string">&quot; -i &quot;</span> + save_path1 + <span class="string">&quot; -j &quot;</span> + save_path2 + <span class="string">&quot; -c grow-diag-final-and &gt; &quot;</span> + save_path3</span><br><span class="line">    os.system(symmetrize_path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>(<span class="params">path=<span class="string">&quot;/data/wbxu/data&quot;</span></span>):</span></span><br><span class="line">    fast_align_preprocess(path)</span><br><span class="line">    use_fast_align(path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>第一个函数用于预处理输入数据, 预处理完后的数据样本如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I declare resumed the session of the European Parliament ad@@ jour@@ ned on Friday 17 December 1999 , and I would like once again to wish you a happy new year in the hope that you enjoyed a pleasant fes@@ tive period . ||| Ich erkläre die am Freitag , dem 17. Dezember unterbro@@ ch@@ ene Sitzungsperiode des Europäischen Parlaments für wieder@@ aufgenommen , wünsche Ihnen nochmals alles Gute zum Jahres@@ wechsel und hoffe , daß Sie schöne Ferien hatten .</span><br><span class="line">Although , as you will have seen , the d@@ read@@ ed &amp;apos; millenn@@ ium bug &amp;apos; failed to materi@@ alise , still the people in a number of countries suffered a series of natural disasters that truly were d@@ read@@ ful . ||| Wie Sie feststellen konnten , ist der ge@@ für@@ chtete &amp;quot; Mill@@ en@@ ium @-@ Bu@@ g &amp;quot; nicht eingetreten . Doch sind Bürger einiger unserer Mitgliedstaaten Opfer von schrecklichen Naturkatastrophen geworden .</span><br></pre></td></tr></table></figure>

</blockquote>
<blockquote>
<p>原始的输出文件是下标之间的对齐, 晦涩难懂, 输出样例如下:</p>
<ul>
<li><p>正向对齐 forward align</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0-0 1-1 3-2 2-3 13-4 6-6 14-7 15-8 10-9 10-10 11-11 11-12 11-13 7-14 8-15 10-16 11-17 2-18 17-19 25-20 26-21 23-22 25-23 25-24 24-25 30-26 30-27 18-28 33-29 34-30 34-31 35-32 38-33 38-34 36-35 42-36</span><br><span class="line">2-0 3-1 6-2 6-3 7-4 8-6 11-7 10-8 10-9 12-10 13-11 14-12 14-13 14-14 15-15 15-16 16-17 17-18 19-19 42-20 30-21 24-23 27-24 33-25 29-26 30-27 33-28 40-29 35-30 42-31 42-32</span><br></pre></td></tr></table></figure></li>
<li><p>逆向对齐 reverse align</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0-0 1-1 2-1 3-2 4-1 5-2 6-6 7-14 8-15 9-9 10-9 11-9 12-3 13-4 14-7 15-8 16-18 17-19 18-28 19-20 20-20 21-20 22-22 23-22 24-25 25-20 26-21 28-24 29-27 30-26 32-25 33-29 34-31 35-32 36-35 37-33 38-33 39-33 42-36</span><br><span class="line">0-5 1-4 2-0 3-1 4-1 5-3 6-2 7-4 8-6 9-8 10-8 11-9 12-10 13-11 14-13 15-15 16-10 17-18 19-19 20-19 24-23 27-24 28-24 29-26 30-27 31-24 32-28 33-28 34-30 35-30 38-29 39-29 40-29 41-29 42-32</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Tips</strong>: 虽然是逆向对齐, 但是输出内容还是以 ‘src_id-tgt_id’ 的形式输出的~</p>
</blockquote>
<h4 id="5-将输出文件中数字-ids-转换成-tokens-对齐"><a href="#5-将输出文件中数字-ids-转换成-tokens-对齐" class="headerlink" title="5. 将输出文件中数字 ids 转换成 tokens 对齐"></a>5. 将输出文件中数字 ids 转换成 tokens 对齐</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">recover</span>(<span class="params">path</span>):</span></span><br><span class="line">    align_path = path + <span class="string">&quot;/wmt14_en-de_source-target.align&quot;</span></span><br><span class="line">    src_path = path + <span class="string">&quot;/train.src&quot;</span></span><br><span class="line">    tgt_path = path + <span class="string">&quot;/train.tgt&quot;</span></span><br><span class="line">    save_path = path + <span class="string">&quot;/token_source-target.align&quot;</span></span><br><span class="line"></span><br><span class="line">    src_tokens, tgt_tokens, ali_mapping = [], [], []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(align_path, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> fa, <span class="built_in">open</span>(src_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> fs, <span class="built_in">open</span>(tgt_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> ft:</span><br><span class="line">        src = fs.readlines()</span><br><span class="line">        tgt = ft.readlines()</span><br><span class="line">        ali = fa.readlines()</span><br><span class="line"></span><br><span class="line">    length = <span class="built_in">len</span>(src)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        src_tokens.append(src[i].split())</span><br><span class="line">        tgt_tokens.append(tgt[i].split())</span><br><span class="line">        ali_mapping.append(ali[i].split())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(save_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">            res = <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ali_mapping[i])):</span><br><span class="line">                src_index, tgt_index = ali_mapping[i][k].split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">                res += src_tokens[i][<span class="built_in">int</span>(src_index)] + <span class="string">&quot;-&quot;</span> + tgt_tokens[i][<span class="built_in">int</span>(tgt_index)] + <span class="string">&quot;   &quot;</span></span><br><span class="line">            res += <span class="string">&quot;\n&quot;</span></span><br><span class="line">        </span><br><span class="line">            f.write(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">recover(path=<span class="string">&quot;/data/wbxu/data&quot;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">recover</span>(<span class="params">path</span>):</span></span><br><span class="line">    align_path = path + <span class="string">&quot;/wmt14_en-de_target-source.align&quot;</span></span><br><span class="line">    src_path = path + <span class="string">&quot;/train.src&quot;</span></span><br><span class="line">    tgt_path = path + <span class="string">&quot;/train.tgt&quot;</span></span><br><span class="line">    save_path = path + <span class="string">&quot;/token_target-source.align&quot;</span></span><br><span class="line"></span><br><span class="line">    src_tokens, tgt_tokens, ali_mapping = [], [], []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(align_path, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> fa, <span class="built_in">open</span>(src_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> fs, <span class="built_in">open</span>(tgt_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> ft:</span><br><span class="line">        src = fs.readlines()</span><br><span class="line">        tgt = ft.readlines()</span><br><span class="line">        ali = fa.readlines()</span><br><span class="line"></span><br><span class="line">    length = <span class="built_in">len</span>(src)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        src_tokens.append(src[i].split())</span><br><span class="line">        tgt_tokens.append(tgt[i].split())</span><br><span class="line">        ali_mapping.append(ali[i].split())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(save_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">            res = <span class="string">&quot;&quot;</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ali_mapping[i])):</span><br><span class="line">                src_index, tgt_index = ali_mapping[i][k].split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">                res += tgt_tokens[i][<span class="built_in">int</span>(tgt_index)] + <span class="string">&quot;-&quot;</span> + src_tokens[i][<span class="built_in">int</span>(src_index)] + <span class="string">&quot;   &quot;</span></span><br><span class="line">            res += <span class="string">&quot;\n&quot;</span></span><br><span class="line">        </span><br><span class="line">            f.write(res)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">recover(path=<span class="string">&quot;/data/wbxu/data&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>转换成 tokens 对齐后, 子词间的对齐关系更加直观可见, 输出样例如下:</p>
<ul>
<li><p>正向对齐 forward align</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I-Ich   declare-erkläre   the-die   resumed-am   Friday-Freitag   the-dem   17-17.   December-Dezember   jour@@-unterbro@@   jour@@-ch@@   ned-ene   ned-Sitzungsperiode   ned-des   European-Europäischen   Parliament-Parlaments   jour@@-für   ned-wieder@@   resumed-aufgenommen   ,-,   wish-wünsche   you-Ihnen   again-nochmals   wish-alles   wish-Gute   to-zum   year-Jahres@@   year-wechsel   and-und   hope-hoffe   that-,   that-daß   you-Sie   pleasant-schöne   pleasant-Ferien   enjoyed-hatten   .-.   </span><br><span class="line">as-Wie   you-Sie   seen-feststellen   seen-konnten   ,-,   the-der   ed-ge@@   read@@-für@@   read@@-chtete   &amp;apos;-&amp;quot;   millenn@@-Mill@@   ium-en@@   ium-ium   ium-@-@   bug-Bu@@   bug-g   &amp;apos;-&amp;quot;   failed-nicht   materi@@-eingetreten   .-.   suffered-Doch   people-Bürger   number-einiger   of-unserer   countries-Mitgliedstaaten   suffered-Opfer   of-von   read@@-schrecklichen   disasters-Naturkatastrophen   .-geworden   .-.</span><br></pre></td></tr></table></figure></li>
<li><p>逆向对齐 reverse align</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ich-I   erkläre-declare   erkläre-resumed   die-the   erkläre-session   die-of   dem-the   Europäischen-European   Parlaments-Parliament   unterbro@@-ad@@   unterbro@@-jour@@   unterbro@@-ned   am-on   Freitag-Friday   17.-17   Dezember-December   aufgenommen-1999   ,-,   und-and   wünsche-I   wünsche-would   wünsche-like   nochmals-once   nochmals-again   zum-to   wünsche-wish   Ihnen-you   Gute-happy   wechsel-new   Jahres@@-year   zum-the   hoffe-hope   daß-that   Sie-you   hatten-enjoyed   schöne-a   schöne-pleasant   schöne-fes@@   .-.   </span><br><span class="line">ist-Although   ,-,   Wie-as   Sie-you   Sie-will   konnten-have   feststellen-seen   ,-,   der-the   für@@-d@@   für@@-read@@   chtete-ed   &amp;quot;-&amp;apos;   Mill@@-millenn@@   ium-ium   Bu@@-bug   &amp;quot;-&amp;apos;   nicht-failed   eingetreten-materi@@   eingetreten-alise   Bürger-people   einiger-number   einiger-of   Mitgliedstaaten-countries   Opfer-suffered   einiger-a   von-series   von-of   Naturkatastrophen-natural   Naturkatastrophen-disasters   schrecklichen-were   schrecklichen-d@@   schrecklichen-read@@   schrecklichen-ful   .-.   </span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h3 id="mathfrak-GIZA"><a href="#mathfrak-GIZA" class="headerlink" title="$\mathfrak{GIZA++}$"></a>$\mathfrak{GIZA++}$</h3><h4 id="1-从-Github-上下载-GIZA"><a href="#1-从-Github-上下载-GIZA" class="headerlink" title="1. 从 Github 上下载 GIZA++"></a>1. 从 Github 上下载 GIZA++</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/moses-smt/giza-pp">giza-pp</a></p>
</blockquote>
<h4 id="2-通过以下命令编译-GIZA"><a href="#2-通过以下命令编译-GIZA" class="headerlink" title="2. 通过以下命令编译 GIZA++"></a>2. 通过以下命令编译 GIZA++</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> giza-pp-master</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
<p>编译完成之后, 我们所需要的就是以下4个文件:</p>
<ul>
<li>/data1/wbxu/giza-pp-master/GIZA++-v2/plain2snt.out</li>
<li>/data1/wbxu/giza-pp-master/GIZA++-v2/snt2cooc.out</li>
<li>/data1/wbxu/giza-pp-master/GIZA++-v2/GIZA++</li>
<li>/data1/wbxu/giza-pp-master/mkcls-v2/mkcls</li>
</ul>
<h4 id="3-准备平行语料"><a href="#3-准备平行语料" class="headerlink" title="3. 准备平行语料"></a>3. 准备平行语料</h4><blockquote>
<p>我选择了没有 tokenize 的 WMT14 En-De 训练数据集：</p>
<ul>
<li><p>英文样本如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I declare resumed the session of the European Parliament adjourned on Friday 17 December 1999 , and I would like once again to wish you a happy new year in the hope that you enjoyed a pleasant festive period .</span><br><span class="line">Although , as you will have seen , the dreaded &amp;apos; millennium bug &amp;apos; failed to materialise , still the people in a number of countries suffered a series of natural disasters that truly were dreadful .</span><br></pre></td></tr></table></figure></li>
<li><p>德语样本如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ich erkläre die am Freitag , dem 17. Dezember unterbrochene Sitzungsperiode des Europäischen Parlaments für wiederaufgenommen , wünsche Ihnen nochmals alles Gute zum Jahreswechsel und hoffe , daß Sie schöne Ferien hatten .</span><br><span class="line">Wie Sie feststellen konnten , ist der gefürchtete &amp;quot; Millenium @-@ Bug &amp;quot; nicht eingetreten . Doch sind Bürger einiger unserer Mitgliedstaaten Opfer von schrecklichen Naturkatastrophen geworden .</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h4 id="4-为句子和单词进行编号"><a href="#4-为句子和单词进行编号" class="headerlink" title="4. 为句子和单词进行编号"></a>4. 为句子和单词进行编号</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GIZA++-v2/plain2snt.out /data1/wbxu/data/en.txt /data1/wbxu/data/de.txt</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该命令会生成4个文件：2个以vcb为后缀；2个以snt为后缀</p>
<ul>
<li>Vcb 文件, 其形式为 id : token : count<ul>
<li>英语词典<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2 I 595964</span><br><span class="line">	3 declare 2140</span><br><span class="line">	4 resumed 1401</span><br><span class="line">	5 the 5940442</span><br><span class="line">	6 session 6792</span><br><span class="line">	7 of 3104652</span><br><span class="line">	8 European 301463</span><br><span class="line">	9 Parliament 117592</span><br><span class="line">	10 adjourned 582</span><br></pre></td></tr></table></figure></li>
<li>德语词典<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2 Ich 225113</span><br><span class="line">3 erkläre 850</span><br><span class="line">4 die 2886352</span><br><span class="line">5 am 116629</span><br><span class="line">6 Freitag 2725</span><br><span class="line">7 , 5913069</span><br><span class="line">8 dem 456821</span><br><span class="line">9 17. 2856</span><br><span class="line">10 Dezember 10338		</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p><strong>Tip</strong>: 该文件为对应语言的词典文件, 其中 count 统计了对应单词的出现次数</p>
<ul>
<li>Snt 文件, 其形式为 count  $Enter$  ids  $Enter$  ids  $Enter$<ul>
<li>英德句对<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2 3 4 5 6 7 5 8 9 10 11 12 13 14 15 16 17 2 18 19 20 21 22 23 24 25 26 27 28 29 5 30 31 24 32 25 33 34 35 36 </span><br><span class="line">2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 7 18 19 20 21 22 23 24 25 26 7 27 28 29 30 31 32 </span><br><span class="line">1</span><br><span class="line">37 16 38 24 39 40 41 16 5 42 43 44 45 43 46 22 47 16 48 5 49 29 25 50 7 51 52 25 53 7 54 55 31 56 57 58 36 </span><br><span class="line">33 28 34 35 7 36 37 38 39 40 41 42 39 43 44 32 45 46 47 48 49 50 51 52 53 54 55 32 </span><br></pre></td></tr></table></figure></li>
<li>德英句对<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">	2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 7 18 19 20 21 22 23 24 25 26 7 27 28 29 30 31 32 </span><br><span class="line">	2 3 4 5 6 7 5 8 9 10 11 12 13 14 15 16 17 2 18 19 20 21 22 23 24 25 26 27 28 29 5 30 31 24 32 25 33 34 35 36 </span><br><span class="line">	1</span><br><span class="line">	33 28 34 35 7 36 37 38 39 40 41 42 39 43 44 32 45 46 47 48 49 50 51 52 53 54 55 32 </span><br><span class="line">	37 16 38 24 39 40 41 16 5 42 43 44 45 43 46 22 47 16 48 5 49 29 25 50 7 51 52 25 53 7 54 55 31 56 57 58 36 </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p><strong>Tip</strong>: 该文件为 ids 化的句对文件, 第一行为对应句对的出现次数, 第二行为源语言句子, 第三行为目标语言句子</p>
</blockquote>
<h4 id="5-生成共现文件"><a href="#5-生成共现文件" class="headerlink" title="5. 生成共现文件"></a>5. 生成共现文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GIZA++-v2/snt2cooc.out /data1/wbxu/data/en.vcb /data1/wbxu/data/de.vcb /data1/wbxu/data/en_de.snt &gt; en_de.cooc</span><br><span class="line">GIZA++-v2/snt2cooc.out /data1/wbxu/data/de.vcb /data1/wbxu/data/en.vcb /data1/wbxu/data/de_en.snt &gt; de_en.cooc</span><br></pre></td></tr></table></figure>

<blockquote>
<p>该命令会生成两个后缀为cooc的文件 (不清楚什么意思, 好像是一样的)：</p>
<ul>
<li><p>en_de.cooc 文件如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 2</span><br><span class="line">0 3</span><br><span class="line">0 4</span><br><span class="line">0 5</span><br><span class="line">0 6</span><br><span class="line">0 7</span><br><span class="line">0 8</span><br><span class="line">0 9</span><br></pre></td></tr></table></figure></li>
<li><p>de_en.cooc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 2</span><br><span class="line">0 3</span><br><span class="line">0 4</span><br><span class="line">0 5</span><br><span class="line">0 6</span><br><span class="line">0 7</span><br><span class="line">0 8</span><br><span class="line">0 9</span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h4 id="6-生成词类"><a href="#6-生成词类" class="headerlink" title="6. 生成词类"></a>6. 生成词类</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkcls-v2/mkcls -p/data1/wbxu/data/en.txt -V/data1/wbxu/data/en.vcb.classes opt</span><br><span class="line">mkcls-v2/mkcls -p/data1/wbxu/data/de.txt -V/data1/wbxu/data/de.vcb.classes opt</span><br></pre></td></tr></table></figure>

<p>该命令的参数如下：</p>
<ul>
<li>-c 词类数目</li>
<li>-n 优化次数，默认是1，越大越好</li>
<li>-p 输入文件</li>
<li>-V 输出文件</li>
<li>opt 优化输出</li>
</ul>
<blockquote>
<p>该命令会生成4个文件, 2个以classes为后缀, 2个以cats为后缀：</p>
<ul>
<li><p>英语词类：</p>
<ul>
<li>classes 定义单词到类别编号的映射<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&amp;apos;ALGAR	64</span><br><span class="line">	&amp;apos;ALSACE	64</span><br><span class="line">	&amp;apos;ALT	66</span><br><span class="line">	&amp;apos;ALZINA	64</span><br><span class="line">	&amp;apos;AMBRE	66</span><br><span class="line">	&amp;apos;AMORE	64</span><br><span class="line">	&amp;apos;AMOUR	66</span><br><span class="line">	&amp;apos;AN	66</span><br><span class="line">	&amp;apos;ANGELY	66</span><br><span class="line">	&amp;apos;ANNONCE	64</span><br></pre></td></tr></table></figure></li>
<li>cats 定义类别编号到单词的映射<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0:$,</span><br><span class="line">	1:</span><br><span class="line">	2:-2º,host,.ccf,0.01sein,0.6mm,04835,07541,09599,09pol,1,0l,1.033.856.359,1.037.162,1.062,1.114.112,1.116.513,1.150.000,1.199,1.215.000,1.465,1.536,1.685,1.711m,10,47,10,970,10.250,10.450,100,50,100ps,10ns,10x106,11,978,11.850,116,554,135,698,12,48,12.900,12353,1236ha,125gr,12621,128.000,12K,12º,13,05,13,60,13.250,13347,133º,134,15,13445,14,60,14,74,14,900,14.280,14.500.000,14fachem,15.267,150MHz,15m2,15tes,16,221,166.442,1694.,17,500,17.238,17.317.774,17m-,18,11,18.----in,185,000,187,888,187.000.000,19.220,191.400.000,1965.The,1986.,1KM,2.300m2,2.5mm,2.754,2.855,2.Hand.Das,20,04,20,67,20.026,20.685,200,000,000,2005im,20459,205,366,880,20KHz,20hektar,217m2,22.000km,22jähriger,22º,23.909,24ps,24x36mm,25,378km,25.500,25.700,256fachen,256x256px,25dB,25jährigem,2620m,27.445,27jähriger,28.400,2809,28219,285.782,295km,29sten,2Mbit,2ter,3.000.000.000,3.6Mbps,30,10,30.70,306,6,309.684,30M,31,72,3253,3299m,32MByte,32x16,32º,333.488,33428,335er,341.624,35390,36,500,000,38,4,390,000,39031,39035,39039,399,99,3DVIA,3Loch,3RA6,3x3x3m,4,664,4.694,40.972,400ml,40549,40jährigem,41.917,41qm,43.07079,43.700</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>德语词类：</p>
<ul>
<li>classes 定义单词到类别编号的映射<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---BEMERKUNG	73</span><br><span class="line">---WICHTIG---	20</span><br><span class="line">---en	94</span><br><span class="line">---too	30</span><br><span class="line">--AMDRY	32</span><br><span class="line">--Asma	48</span><br><span class="line">--Audio	26</span><br><span class="line">--Brasilianische	99</span><br><span class="line">--COMING	49</span><br><span class="line">--CZK	31</span><br><span class="line">--Der	76</span><br><span class="line">--Die	76</span><br><span class="line">--Diese	76</span><br><span class="line">--EINFÜGEN--	32</span><br><span class="line">--Feld	91</span><br></pre></td></tr></table></figure></li>
<li>cats 定义类别编号到单词的映射<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0:$,</span><br><span class="line">1:</span><br><span class="line">2:-bresaola,-effectively,-may,-members,-nor,-oac,-overwhelming,-personal,-solutions,-to,-would,.will,10a.m.We,1152x864,125K,16.10.1996,18000th,1986s,1un,2.2rev4.1,250ms,251,66,300or,3Dembossments,3Sis,3beds,3pt,4.95m,61,870,7.1.3.3,7020.021,7040.021,7040.030,7041.060,81g,8HP,93.55.xxx.xxx,ALLREADY,AMSTeX,AVPDOS32,Abatec,Abraser,Acherkogl,Adiv,Aenor,Affinati,Aier,Alcar,Algarvios,America--can,Anting,Aow,ApplicationsTo,Aquadynamic,Aqualog,ArccOS,Arilines,Atheatos,Aufeis,Autobild.de,BCTCS,Baantai,Babae,Backgammonboard,Balabranip,Bananera,BaoLong,Bartimaeus,Basothen</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="7-运行GIZA"><a href="#7-运行GIZA" class="headerlink" title="7. 运行GIZA++"></a>7. 运行GIZA++</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/data1/wbxu/giza-pp-master/GIZA++-v2/GIZA++ -S /data1/wbxu/data/en.vcb -T /data1/wbxu/data/de.vcb -C /data1/wbxu/data/en_de.snt -CoocurrenceFile /data1/wbxu/giza-pp-master/en_de.cooc -o en2de -OutputPath en2de</span><br><span class="line">/data1/wbxu/giza-pp-master/GIZA++-v2/GIZA++ -S /data1/wbxu/data/de.vcb -T /data1/wbxu/data/en.vcb -C /data1/wbxu/data/de_en.snt -CoocurrenceFile /data1/wbxu/giza-pp-master/de_en.cooc -o de2en -OutputPath de2en</span><br></pre></td></tr></table></figure>

<p>该命令的参数如下：</p>
<ul>
<li>-S 源语言文件</li>
<li>-T 目标语言文件</li>
<li>-C src_tgt.snt文件</li>
<li>-CoocurrenceFile src_tgt.cooc文件</li>
<li>-o 输出文件的前缀</li>
<li>-OutputPath 输出文件的目录</li>
</ul>
<blockquote>
<p>该命令执行时间较长, 须待良久, 最终会生成如下文件：</p>
<ol>
<li><p>输出日志文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">==========================================================</span><br><span class="line">writing Final tables to Disk </span><br><span class="line">Writing PERPLEXITY report to: de2en/de2en.perp</span><br><span class="line">Writing source vocabulary list to : de2en/de2en.trn.src.vcb</span><br><span class="line">Writing source vocabulary list to : de2en/de2en.trn.trg.vcb</span><br><span class="line">Writing source vocabulary list to : de2en/de2en.tst.src.vcb</span><br><span class="line">Writing source vocabulary list to : de2en/de2en.tst.trg.vcb</span><br><span class="line">writing decoder configuration file to de2en/de2en.Decoder.config</span><br><span class="line">Entire Training took: 99500 seconds</span><br><span class="line">Program Finished at: Mon Nov 22 23:45:49 2021</span><br><span class="line">==========================================================</span><br></pre></td></tr></table></figure></li>
<li><p>困惑度文件 ~.perp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#trnsz	tstsz	iter	model	trn-pp		test-pp		trn-vit-pp		tst-vit-pp</span><br><span class="line">3995262	0	    0	    Model1	1.63537e+06	N/A		    inf		        N/A</span><br><span class="line">3995262	0	    1	    Model1	567.258		N/A		    3215.22		    N/A</span><br><span class="line">3995262	0	    2	    Model1	242.121		N/A		    860.049		    N/A</span><br><span class="line">3995262	0	    3	    Model1	195.809		N/A		    544.603		    N/A</span><br><span class="line">3995262	0	    4	    Model1	183.124		N/A		    443.58		    N/A</span><br><span class="line">3995262	0	    5	    HMM	    156.719		N/A		    inf		        N/A</span><br><span class="line">3995262	0	    6	    HMM	    110.575		N/A		    169.095		    N/A</span><br><span class="line">3995262	0	    7	    HMM	    78.7195		N/A		    101.809		    N/A</span><br><span class="line">3995262	0	    8	    HMM	    68.6674		N/A		    83.8846		    N/A</span><br><span class="line">3995262	0	    9	    HMM	    65.3209		N/A		    77.9282		    N/A</span><br><span class="line">3995262	0	    10	    THTo3	74.0646		N/A		    80.3015		    N/A</span><br><span class="line">3995262	0	    11	    Model3	184.549		N/A		    198.633		    N/A</span><br><span class="line">3995262	0	    12	    Model3	164.136		N/A		    175.439		    N/A</span><br><span class="line">3995262	0	    13	    Model3	157.36		N/A		    167.888		    N/A</span><br><span class="line">3995262	0	    14	    Model3	154.949		N/A		    165.288		    N/A</span><br><span class="line">3995262	0	    15	    T3To4	153.757		N/A		    163.999		    N/A</span><br><span class="line">3995262	0	    16	    Model4	101.187		N/A		    106.708		    N/A</span><br><span class="line">3995262	0	    17	    Model4	92.3756		N/A		    97.1254		    N/A</span><br><span class="line">3995262	0	    18	    Model4	89.1882		N/A		    93.4744		    N/A</span><br><span class="line">3995262	0	    19	    Model4	87.5094		N/A		    91.4966		    N/A</span><br></pre></td></tr></table></figure></li>
<li><p>~d3.final 文件 (不知所云)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1 1 100 1 1</span><br><span class="line">1 2 100 1 1</span><br><span class="line">1 3 100 1 1</span><br><span class="line">1 4 100 1 1</span><br><span class="line">1 5 100 1 1</span><br><span class="line">1 6 100 1 1</span><br><span class="line">1 7 100 1 1</span><br><span class="line">1 0 100 2 0.753583</span><br><span class="line">2 0 100 2 0.246417</span><br><span class="line">1 1 100 2 0.948539</span><br></pre></td></tr></table></figure></li>
<li><p>n3.final 文件表示的是某个单词所对应的繁殖力大小的概率 (从左到右，繁殖力从0到9)，其形式为 $source\ id$   $p(fertility=0)$   $p(fertility=1)$   $\dots$   $p(fertility=9)$</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2 0.0835292 0.881598 0.0270334 0.00658778 0.00100327 0.000200634 4.27065e-05 2.70696e-07 4.87095e-06 1.14867e-07 </span><br><span class="line">3 0.178227 0.790122 0.0275572 0.00175264 0.0018591 0.000106401 8.37043e-05 6.1348e-05 3.65072e-05 0.000194441 </span><br><span class="line">4 0.0758428 0.201973 0.253675 0.0130023 0.452613 0.000283031 0.000939822 0.00132266 5.494e-05 0.000292524 </span><br><span class="line">5 0.401716 0.594518 0.000245277 0.00334565 0.000124138 2.99709e-05 3.1172e-06 1.49017e-05 0 3.0277e-06 </span><br><span class="line">6 0.328716 0.648779 0.0206393 0.00136076 0.000203803 0.000180117 2.69242e-05 1.97331e-05 1.17428e-05 6.25434e-05 </span><br><span class="line">7 0.729189 0.269479 0.000124212 0.00117522 2.06356e-05 1.28205e-06 9.66674e-06 7.59257e-07 0 0 </span><br><span class="line">8 0.105242 0.894326 0.000120709 0.000260014 3.93617e-05 7.70443e-06 7.42444e-07 5.79232e-07 3.33635e-07 1.80787e-06 </span><br><span class="line">9 0.0415899 0.883176 0.0729691 0.00195852 0.000284182 3.15497e-06 2.54355e-06 9.94552e-06 9.9275e-07 5.42298e-06 </span><br><span class="line">10 0.0534802 0.455451 0.436919 0.0427366 0.00281034 0.000736073 0.000359615 0.00348065 0.00315132 0.000875467 </span><br><span class="line">11 0.518013 0.481123 0.000105029 0.000745583 9.45342e-06 1.92139e-06 1.87431e-06 0 0 0 </span><br></pre></td></tr></table></figure></li>
<li><p>~t3.final 文件(翻译表)表示的是对齐概率，其形式为 $source\ id$   $target\ id$   $p(target\ id|source\ id)$</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;0 2 8.71379e-07</span><br><span class="line">0 4 0.0772731</span><br><span class="line">0 5 0.00177454</span><br><span class="line">0 6 1.23743e-07</span><br><span class="line">0 7 0.215834</span><br><span class="line">0 8 0.00993277</span><br><span class="line">0 10 1.4587e-07</span><br><span class="line">0 13 0.0101745</span><br><span class="line">0 14 3.58152e-06</span><br><span class="line">0 15 2.81992e-06</span><br><span class="line">0 16 0.0141534</span><br><span class="line">0 18 6.23962e-07</span><br><span class="line">0 19 0.000544938</span><br><span class="line">0 20 1.49871e-06</span><br></pre></td></tr></table></figure></li>
<li><p>~A3.final 文件表示单向对齐文件，数字代表了单词在句中的位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#Sentence pair (1) source length 40 target length 33 alignment score : 2.17771e-70</span><br><span class="line">Ich erkläre die am Freitag , dem 17. Dezember unterbrochene Sitzungsperiode des Europäischen Parlaments für wiederaufgenommen , wünsche Ihnen nochmals alles Gute zum Jahreswechsel und hoffe , daß Sie schöne Ferien hatten . </span><br><span class="line">NULL (&#123; 3 6 7 15 17 23 25 27 &#125;) I (&#123; 1 &#125;) declare (&#123; 2 &#125;) resumed (&#123; 16 &#125;) the (&#123; &#125;) session (&#123; 11 &#125;) of (&#123; 12 &#125;) the (&#123; &#125;) European (&#123; 13 &#125;) Parliament (&#123; 14 &#125;) adjourned (&#123; 10 &#125;) on (&#123; 4 &#125;) Friday (&#123; 5 &#125;) 17 (&#123; 8 &#125;) December (&#123; 9 &#125;) 1999 (&#123; &#125;) , (&#123; &#125;) and (&#123; &#125;) I (&#123; &#125;) would (&#123; &#125;) like (&#123; &#125;) once (&#123; &#125;) again (&#123; 20 &#125;) to (&#123; &#125;) wish (&#123; 18 21 22 &#125;) you (&#123; 19 &#125;) a (&#123; &#125;) happy (&#123; &#125;) new (&#123; &#125;) year (&#123; 24 &#125;) in (&#123; &#125;) the (&#123; &#125;) hope (&#123; 26 &#125;) that (&#123; 28 &#125;) you (&#123; 29 &#125;) enjoyed (&#123; 32 &#125;) a (&#123; &#125;) pleasant (&#123; 30 &#125;) festive (&#123; 31 &#125;) period (&#123; &#125;) . (&#123; 33 &#125;) </span><br><span class="line">#Sentence pair (2) source length 37 target length 28 alignment score : 2.3304e-64</span><br><span class="line">Wie Sie feststellen konnten , ist der gefürchtete &amp;quot; Millenium @-@ Bug &amp;quot; nicht eingetreten . Doch sind Bürger einiger unserer Mitgliedstaaten Opfer von schrecklichen Naturkatastrophen geworden . </span><br><span class="line">NULL (&#123; 6 11 16 18 24 &#125;) Although (&#123; 1 &#125;) , (&#123; &#125;) as (&#123; &#125;) you (&#123; 2 &#125;) will (&#123; &#125;) have (&#123; 4 &#125;) seen (&#123; 3 &#125;) , (&#123; 5 &#125;) the (&#123; 7 &#125;) dreaded (&#123; 8 &#125;) &amp;apos; (&#123; 9 &#125;) millennium (&#123; 10 &#125;) bug (&#123; 12 &#125;) &amp;apos; (&#123; 13 &#125;) failed (&#123; 14 &#125;) to (&#123; &#125;) materialise (&#123; 15 17 &#125;) , (&#123; &#125;) still (&#123; &#125;) the (&#123; &#125;) people (&#123; 19 &#125;) in (&#123; &#125;) a (&#123; &#125;) number (&#123; 20 &#125;) of (&#123; 21 &#125;) countries (&#123; 22 &#125;) suffered (&#123; 23 27 &#125;) a (&#123; &#125;) series (&#123; &#125;) of (&#123; &#125;) natural (&#123; &#125;) disasters (&#123; 26 &#125;) that (&#123; &#125;) truly (&#123; &#125;) were (&#123; &#125;) dreadful (&#123; 25 &#125;) . (&#123; 28 &#125;) </span><br><span class="line">#Sentence pair (3) source length 23 target length 17 alignment score : 7.25555e-37</span><br><span class="line">Im Parlament besteht der Wunsch nach einer Aussprache im Verlauf dieser Sitzungsperiode in den nächsten Tagen . </span><br><span class="line">NULL (&#123; 3 4 6 &#125;) You (&#123; 1 &#125;) have (&#123; &#125;) requested (&#123; 2 5 &#125;) a (&#123; 7 &#125;) debate (&#123; 8 &#125;) on (&#123; 9 &#125;) this (&#123; &#125;) subject (&#123; &#125;) in (&#123; 13 &#125;) the (&#123; &#125;) course (&#123; &#125;) of (&#123; &#125;) the (&#123; 14 &#125;) next (&#123; 15 &#125;) few (&#123; &#125;) days (&#123; 16 &#125;) , (&#123; &#125;) during (&#123; 10 &#125;) this (&#123; 11 &#125;) part (&#123; &#125;) @-@ (&#123; &#125;) session (&#123; 12 &#125;) . (&#123; 17 &#125;) </span><br></pre></td></tr></table></figure></li>
<li><p>~d4.final 文件是 IBM Model 4 翻译表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#Translation tables for Model 4 .</span><br><span class="line">#Table for head of cept.</span><br><span class="line">F: 69 E: 0 </span><br><span class="line">SUM: 3109.6 </span><br><span class="line">1 2840.24</span><br><span class="line">2 106.666</span><br><span class="line">3 31.5745</span><br><span class="line">4 11.4671</span><br><span class="line">5 13.0911</span><br><span class="line">6 8.4091</span><br><span class="line">7 7.46996</span><br></pre></td></tr></table></figure></li>
<li><p>~gizacfg 文件是 GIZA++ 的配置文件，包括一些超参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">adbackoff 0</span><br><span class="line">c /data1/wbxu/data/en_de.snt</span><br><span class="line">compactadtable 1</span><br><span class="line">compactalignmentformat 0</span><br><span class="line">coocurrencefile /data1/wbxu/giza-pp-master/en_de.cooc</span><br><span class="line">corpusfile /data1/wbxu/data/en_de.snt</span><br><span class="line">countcutoff 1e-06</span><br><span class="line">countcutoffal 1e-05</span><br><span class="line">countincreasecutoff 1e-06</span><br><span class="line">countincreasecutoffal 1e-05</span><br><span class="line">d </span><br><span class="line">deficientdistortionforemptyword 0</span><br><span class="line">depm4 76</span><br><span class="line">depm5 68</span><br><span class="line">dictionary </span><br><span class="line">dopeggingyn 0</span><br><span class="line">emalignmentdependencies 2</span><br><span class="line">emalsmooth 0.2</span><br><span class="line">emprobforempty 0.4</span><br><span class="line">emsmoothhmm 2</span><br><span class="line">hmmdumpfrequency 0</span><br><span class="line">hmmiterations 5</span><br><span class="line">l en2de/2021-11-20.130008.wbxu.log</span><br><span class="line">log 0</span><br><span class="line">logfile en2de/2021-11-20.130008.wbxu.log</span><br><span class="line">m1 5</span><br><span class="line">m2 0</span><br><span class="line">m3 5</span><br><span class="line">m4 5</span><br><span class="line">m5 0</span><br><span class="line">m5p0 -1</span><br><span class="line">m6 0</span><br><span class="line">manlexfactor1 0</span><br><span class="line">manlexfactor2 0</span><br><span class="line">manlexmaxmultiplicity 20</span><br><span class="line">maxfertility 10</span><br><span class="line">maxsentencelength 101</span><br><span class="line">mh 5</span><br><span class="line">mincountincrease 1e-07</span><br><span class="line">ml 101</span><br><span class="line">model1dumpfrequency 0</span><br><span class="line">model1iterations 5</span><br><span class="line">model23smoothfactor 0</span><br><span class="line">model2dumpfrequency 0</span><br><span class="line">model2iterations 0</span><br><span class="line">model345dumpfrequency 0</span><br><span class="line">model3dumpfrequency 0</span><br><span class="line">model3iterations 5</span><br><span class="line">model4iterations 5</span><br><span class="line">model4smoothfactor 0.2</span><br><span class="line">model5iterations 0</span><br><span class="line">model5smoothfactor 0.1</span><br><span class="line">model6iterations 0</span><br><span class="line">nbestalignments 0</span><br><span class="line">nodumps 0</span><br><span class="line">nofiledumpsyn 0</span><br><span class="line">noiterationsmodel1 5</span><br><span class="line">noiterationsmodel2 0</span><br><span class="line">noiterationsmodel3 5</span><br><span class="line">noiterationsmodel4 5</span><br><span class="line">noiterationsmodel5 0</span><br><span class="line">noiterationsmodel6 0</span><br><span class="line">nsmooth 64</span><br><span class="line">nsmoothgeneral 0</span><br><span class="line">numberofiterationsforhmmalignmentmodel 5</span><br><span class="line">o en2de/en2de</span><br><span class="line">onlyaldumps 0</span><br><span class="line">outputfileprefix en2de/en2de</span><br><span class="line">outputpath en2de/</span><br><span class="line">p 0</span><br><span class="line">p0 -1</span><br><span class="line">peggedcutoff 0.03</span><br><span class="line">pegging 0</span><br><span class="line">probcutoff 1e-07</span><br><span class="line">probsmooth 1e-07</span><br><span class="line">readtableprefix </span><br><span class="line">s /data1/wbxu/data/en.vcb</span><br><span class="line">sourcevocabularyfile /data1/wbxu/data/en.vcb</span><br><span class="line">t /data1/wbxu/data/de.vcb</span><br><span class="line">t1 0</span><br><span class="line">t2 0</span><br><span class="line">t2to3 0</span><br><span class="line">t3 0</span><br><span class="line">t345 0</span><br><span class="line">targetvocabularyfile /data1/wbxu/data/de.vcb</span><br><span class="line">tc </span><br><span class="line">testcorpusfile </span><br><span class="line">th 0</span><br><span class="line">transferdumpfrequency 0</span><br><span class="line">v 0</span><br><span class="line">verbose 0</span><br><span class="line">verbosesentence -10</span><br></pre></td></tr></table></figure></li>
<li><p>~Decoder.config 文件用于 ISI Rewrite Decoder</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">TTable = en2de.t3.final</span><br><span class="line">InverseTTable = en2de.ti.final</span><br><span class="line">NTable = en2de.n3.final</span><br><span class="line">D3Table = en2de.d3.final</span><br><span class="line">D4Table = en2de.D4.final</span><br><span class="line">PZero = en2de.p0_3.final</span><br><span class="line">Source.vcb = /data1/wbxu/data/en.vcb</span><br><span class="line">Target.vcb = /data1/wbxu/data/de.vcb</span><br><span class="line">Source.classes = /data1/wbxu/data/en.vcb.classes</span><br><span class="line">Target.classes = /data1/wbxu/data/de.vcb.classes</span><br><span class="line">FZeroWords       = en2de.fe0_3.final</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h3 id="mathfrak-Thought"><a href="#mathfrak-Thought" class="headerlink" title="$\mathfrak{Thought}$"></a>$\mathfrak{Thought}$</h3><h4 id="1-fast-align"><a href="#1-fast-align" class="headerlink" title="1. fast align"></a>1. fast align</h4><h5 id="1-1-检查句内对齐关系"><a href="#1-1-检查句内对齐关系" class="headerlink" title="1.1 检查句内对齐关系"></a>1.1 检查句内对齐关系</h5><blockquote>
<ol>
<li><p>Source-Target 对齐样例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">I-Ich   declare-erkläre   the-die   resumed-am   Friday-Freitag   the-dem   17-17.   December-Dezember   jour@@-unterbro@@   jour@@-ch@@   ned-ene   ned-Sitzungsperiode   ned-des   European-Europäischen   Parliament-Parlaments   jour@@-für   ned-wieder@@   resumed-aufgenommen   ,-,   wish-wünsche   you-Ihnen   again-nochmals   wish-alles   wish-Gute   to-zum   year-Jahres@@   year-wechsel   and-und   hope-hoffe   that-,   that-daß   you-Sie   pleasant-schöne   pleasant-Ferien   enjoyed-hatten   .-.   </span><br><span class="line">as-Wie   you-Sie   seen-feststellen   seen-konnten   ,-,   the-der   ed-ge@@   read@@-für@@   read@@-chtete   &amp;apos;-&amp;quot;   millenn@@-Mill@@   ium-en@@   ium-ium   ium-@-@   bug-Bu@@   bug-g   &amp;apos;-&amp;quot;   failed-nicht   materi@@-eingetreten   .-.   suffered-Doch   people-Bürger   number-einiger   of-unserer   countries-Mitgliedstaaten   suffered-Opfer   of-von   read@@-schrecklichen   disasters-Naturkatastrophen   .-geworden   .-.   </span><br><span class="line">You-Im   requested-Parlament   a-besteht   on-der   requested-Wunsch   subject-nach   a-einer   debate-Aussprache   in-im   course-Verlauf   this-dieser   session-Sitzungsperiode   during-in   during-den   next-nächsten   days-Tagen   .-.   </span><br><span class="line">In-Heute   like-möchte   I-ich   like-Sie   like-bitten   ,--   the-das   a-ist   as-auch   of-der   requested-Wunsch   number-einiger   Members-Kolleginnen   Members-Kollegen   ,-,   all-allen   victims-Opfern   of-der   stor@@-St@@   stor@@-ür@@   stor@@-me   ,-,   particularly-insbesondere   in-in   the-den   various-verschiedenen   countries-Ländern   of-der   European-Europäischen   Union-Union   ,-,   in-in   of-einer   silence-Schwei@@   silence-minute   victims-denken   .-.   </span><br><span class="line">Please-Ich   Please-bitte   Please-Sie   ,-,   ,-sich   for-zu   minute-einer   silence-Schwei@@   silence-ge@@   silence-minute   s-zu   silence-erheben   .-.   </span><br><span class="line">(-(   The-Das   House-Parlament   rose-erhebt   rose-sich   observed-zu   a-einer   silence-Schwei@@   silence-ge@@   silence-minute   )-.   )-) </span><br></pre></td></tr></table></figure></li>
<li><p>Target-Source 对齐样例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Ich-I   erkläre-declare   erkläre-resumed   die-the   erkläre-session   die-of   dem-the   Europäischen-European   Parlaments-Parliament   unterbro@@-ad@@   unterbro@@-jour@@   unterbro@@-ned   am-on   Freitag-Friday   17.-17   Dezember-December   aufgenommen-1999   ,-,   und-and   wünsche-I   wünsche-would   wünsche-like   nochmals-once   nochmals-again   zum-to   wünsche-wish   Ihnen-you   Gute-happy   wechsel-new   Jahres@@-year   zum-the   hoffe-hope   daß-that   Sie-you   hatten-enjoyed   schöne-a   schöne-pleasant   schöne-fes@@   .-.   </span><br><span class="line">ist-Although   ,-,   Wie-as   Sie-you   Sie-will   konnten-have   feststellen-seen   ,-,   der-the   für@@-d@@   für@@-read@@   chtete-ed   &amp;quot;-&amp;apos;   Mill@@-millenn@@   ium-ium   Bu@@-bug   &amp;quot;-&amp;apos;   nicht-failed   eingetreten-materi@@   eingetreten-alise   Bürger-people   einiger-number   einiger-of   Mitgliedstaaten-countries   Opfer-suffered   einiger-a   von-series   von-of   Naturkatastrophen-natural   Naturkatastrophen-disasters   schrecklichen-were   schrecklichen-d@@   schrecklichen-read@@   schrecklichen-ful   .-.   </span><br><span class="line">Im-You   Parlament-have   Wunsch-requested   einer-a   Aussprache-debate   der-on   dieser-this   nach-subject   im-in   im-the   Verlauf-course   im-of   im-the   nächsten-next   Tagen-few   Tagen-days   in-,   Verlauf-during   dieser-this   Sitzungsperiode-part   Sitzungsperiode-@-@   Sitzungsperiode-session   .-.   </span><br><span class="line">Heute-In   das-the   ich-meantime   Heute-,   ich-I   möchte-should   möchte-like   bitten-to   minute-observe   ist-a   minute-minute   der-&amp;apos;   der-s   Schwei@@-silence   Kolleginnen-,   auch-as   einiger-number   der-of   Kollegen-Members   ,-have   Wunsch-requested   ,-,   der-on   Opfern-behalf   der-of   allen-all   den-the   Opfern-victims   insbesondere-concerned   ,-,   insbesondere-particularly   Ländern-those   der-of   der-the   Opfern-terrible   ür@@-stor@@   me-ms   ,-,   in-in   der-the   verschiedenen-various   Ländern-countries   einer-of   zu-the   Europäischen-European   Union-Union   .-.   </span><br><span class="line">bitte-Please   erheben-rise   ,-,   ,-then   ,-,   zu-for   zu-this   minute-minute   minute-&amp;apos;   minute-s   minute-silence   .-.   </span><br><span class="line">(-(   Das-The   Parlament-House   erhebt-rose   sich-and   erhebt-observed   einer-a   minute-minute   minute-&amp;apos;   minute-s   minute-silence   )-)   </span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<p>接下来，我有如下的几个发现:</p>
<ul>
<li>fast align 能够区分单词的大小写变化<code>ich-I &amp; Ich-I ...</code>;</li>
<li>fast align 构造出的大部分都是一对一的对齐映射关系<code>I-Ich declare-erkläre ...</code>;</li>
<li>fast align 是具备了一定的处理 tokenized 数据间对齐的能力<code>silence-Schwei@@ &amp; silence-ge@@ &amp; silence-minute ...</code>;</li>
<li>fast align 所支持的正逆向对齐关系之间无法完全对应起来<code>对应: I-Ich &amp; Ich-I ..., 不对应: rose-sich &amp; sich-and ...</code>;</li>
<li>fast align 处理 BPE 化的数据时, 仍然存在着问题<code>quota-Quot@@ &amp; quota-en@@ ...</code>;</li>
</ul>
<h5 id="1-2-检查语料库上的对齐关系"><a href="#1-2-检查语料库上的对齐关系" class="headerlink" title="1.2 检查语料库上的对齐关系"></a>1.2 检查语料库上的对齐关系</h5><p>编写如下程序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mapping</span>(<span class="params">file, output</span>):</span></span><br><span class="line">    text = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        content = f.readlines()</span><br><span class="line"></span><br><span class="line">    length = <span class="built_in">len</span>(content)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        text.append(content[i].split())</span><br><span class="line"></span><br><span class="line">    mappings = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(text[i])):</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(text[i][j])):</span><br><span class="line">                <span class="keyword">if</span> text[i][j][k] == <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                    key = text[i][j][:k]</span><br><span class="line">                    value = text[i][j][k+<span class="number">1</span>:]</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> key <span class="keyword">not</span> <span class="keyword">in</span> mappings.keys():</span><br><span class="line">                mappings[key] = [value, ]</span><br><span class="line">            <span class="keyword">elif</span> value <span class="keyword">not</span> <span class="keyword">in</span> mappings[key]:</span><br><span class="line">                mappings[key].append(value)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(output, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> mappings.items():</span><br><span class="line">            f.write(<span class="built_in">str</span>(key) + <span class="built_in">str</span>(value) + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mapping(file=<span class="string">&quot;token_source-target.align&quot;</span>, output=<span class="string">&quot;token_source-target.txt&quot;</span>)</span><br><span class="line">mapping(file=<span class="string">&quot;token_target-source.align&quot;</span>, output=<span class="string">&quot;token_target-source.txt&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li><p>英语单词的对齐样例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">I[&#x27;Ich&#x27;, &#x27;ich&#x27;, &#x27;mir&#x27;, &#x27;bin&#x27;, &#x27;Ihnen&#x27;, &#x27;Das&#x27;, &#x27;meiner&#x27;, &#x27;mich&#x27;, &#x27;Mir&#x27;, &#x27;halte&#x27;, &#x27;will&#x27;, &#x27;wünsche&#x27;, &#x27;habe&#x27;, &#x27;betrachte&#x27;, &#x27;daß&#x27;, &#x27;meine&#x27;, &#x27;meinen&#x27;, &#x27;Wie&#x27;, &#x27;möchte&#x27;, &#x27;tze&#x27;, &#x27;gehe&#x27;, &#x27;war&#x27;, &#x27;scheint&#x27;, &#x27;meinem&#x27;, &#x27;Dafürhalten&#x27;, &#x27;verstehe&#x27;, &#x27;hiermit&#x27;, &#x27;e&#x27;, &#x27;Hier&#x27;, &#x27;Den&#x27;, &#x27;br@@&#x27;, &#x27;inge&#x27;, &#x27;mache&#x27;, &#x27;stelle&#x27;, &#x27;darf&#x27;, &#x27;mein&#x27;, &#x27;Auch&#x27;, &#x27;sehe&#x27;, &#x27;Deshalb&#x27;, &#x27;Und&#x27;, &#x27;spreche&#x27;, &#x27;erlau@@&#x27;, &#x27;be&#x27;, &#x27;Außerdem&#x27;, &#x27;Was&#x27;, &#x27;In&#x27;, &#x27;kann&#x27;, &#x27;begrüße&#x27;, &#x27;Punkt&#x27;, &#x27;Darin&#x27;, &#x27;FR&#x27;, &#x27;sagen&#x27;, &#x27;Im&#x27;, &#x27;Da&#x27;, &#x27;Lassen&#x27;, &#x27;Meine&#x27;, &#x27;Damen&#x27;, &#x27;werde&#x27;, &#x27;komme&#x27;, &#x27;bitte&#x27;, &#x27;Gestatten&#x27;, &#x27;bedaure&#x27;, &#x27;stimme&#x27;, &#x27;lege&#x27;, &#x27;,&#x27;, &#x27;meines&#x27;, &#x27;Auf&#x27;, &#x27;nehme&#x27;, &#x27;finde&#x27;, &#x27;Dazu&#x27;, &#x27;Dabei&#x27;, &#x27;vertrete&#x27;, &#x27;Hier@@&#x27;, &#x27;danke&#x27;, &#x27;Ansicht&#x27;, &#x27;Darauf&#x27;, &#x27;aber&#x27;, &#x27;wollte&#x27;, &#x27;weise&#x27;, &#x27;Für&#x27;, &#x27;Mit&#x27;, &#x27;Meinung&#x27;, &#x27;Noch&#x27;, &#x27;Plenum&#x27;, &#x27;Nichts@@&#x27;, &#x27;diesem&#x27;, &#x27;jetzt&#x27;, &#x27;deswegen&#x27;, &#x27;Dies&#x27;, &#x27;befürworte&#x27;, &#x27;Leider&#x27;, &#x27;erkläre&#x27;, &#x27;Deswegen&#x27;, &#x27;hier&#x27;, &#x27;Ganz&#x27;, &#x27;muß&#x27;, &#x27;Als&#x27;, &#x27;I&#x27;, &#x27;Es&#x27;, &#x27;Meiner&#x27;, &#x27;gestatten&#x27;, &#x27;betone&#x27;, &#x27;erinnere&#x27;, &#x27;Herr&#x27;, &#x27;Herrn&#x27;, &#x27;teile&#x27;, &#x27;Meines&#x27;, &#x27;Erachtens&#x27;, &#x27;Damit&#x27;, &#x27;Darüber&#x27;, &#x27;Sitzung&#x27;, &#x27;Mehr&#x27;, &#x27;Präsident&#x27;, &#x27;sage&#x27;, &#x27;grei@@&#x27;, &#x27;schließe&#x27;, &#x27;M@@&#x27;, &#x27;freue&#x27;, &#x27;An&#x27;, &#x27;diesen&#x27;, &#x27;erwäh@@&#x27;, &#x27;glaube&#x27;, &#x27;Sehr&#x27;, &#x27;Vor&#x27;, &#x27;folgendes&#x27;, &#x27;gebe&#x27;, &#x27;Gerade&#x27;, &#x27;Doch&#x27;, &#x27;Mein&#x27;, &#x27;nochmals&#x27;, &#x27;einmal&#x27;, &#x27;liebe&#x27;, &#x27;unterstütze&#x27;, &#x27;Von&#x27;, &#x27;Zwar&#x27;, &#x27;zitiere&#x27;, &#x27;Wenn&#x27;, &#x27;Zu&#x27;, &#x27;Dies@@&#x27;, &#x27;hoffe&#x27;, &#x27;wage&#x27;, &#x27;stehe&#x27;, &#x27;hinweisen&#x27;, &#x27;Dennoch&#x27;, &#x27;Ausführungen&#x27;, &#x27;würde&#x27;, &#x27;denke&#x27;, &#x27;Obwohl&#x27;, &#x27;bekräf@@&#x27;, &#x27;verur@@&#x27;, &#x27;EN&#x27;, &#x27;Eigentlich&#x27;, &#x27;übrigen&#x27;, &#x27;Bei&#x27;, &#x27;Diese&#x27;, &#x27;sehr&#x27;, &#x27;Davon&#x27;, &#x27;Abgeordneter&#x27;, &#x27;wiederhole&#x27;, &#x27;Frau&#x27;, &#x27;daher&#x27;, &#x27;davon&#x27;, &#x27;mitteilen&#x27;, &#x27;persönlich&#x27;, &#x27;weiß&#x27;, &#x27;Aus&#x27;, &#x27;Zur&#x27;, &#x27;Gelegenheit&#x27;, &#x27;höre&#x27;, &#x27;trage&#x27;, &#x27;achte&#x27;, &#x27;fühle&#x27;, &#x27;aufmerksam&#x27;, &#x27;äuß@@&#x27;, &#x27;Insbesondere&#x27;, &#x27;Abgeordnete&#x27;, &#x27;wende&#x27;, &#x27;Aber&#x27;, &#x27;Zum&#x27;, &#x27;frage&#x27;, &#x27;Warum&#x27;, &#x27;ausdrücklich&#x27;, &#x27;verwende&#x27;, &#x27;unterstreichen&#x27;, &#x27;erkt&#x27;, &#x27;Wohl&#x27;, &#x27;fordere&#x27;, &#x27;erwarte&#x27;, &#x27;Ferner&#x27;, &#x27;schätze&#x27;, &#x27;suche&#x27;, &#x27;Äußerungen&#x27;, &#x27;hinzufügen&#x27;, &#x27;Weiterhin&#x27;, &#x27;gern&#x27;, &#x27;Angesichts&#x27;, &#x27;Soweit&#x27;, &#x27;beziehe&#x27;, &#x27;bewußt&#x27;, &#x27;Nun&#x27;, &#x27;fürchte&#x27;, &#x27;Bemerkung&#x27;, &#x27;Überzeugung&#x27;, &#x27;soeben&#x27;, &#x27;Daher&#x27;, &#x27;hätte&#x27;, &#x27;betrifft&#x27;, &#x27;darüber&#x27;, &#x27;soviel&#x27;, &#x27;Standpunkt&#x27;, &#x27;Abschließend&#x27;, &#x27;Des@@&#x27;, &#x27;vertrau@@&#x27;, &#x27;hatte&#x27;, &#x27;Zuerst&#x27;, &#x27;Daß&#x27;, &#x27;Zusammenhang&#x27;, &#x27;Persön@@&#x27;, &#x27;darauf&#x27;, &#x27;Damals&#x27;, &#x27;schlage&#x27;, &#x27;dankbar&#x27;, &#x27;erstaunt&#x27;, &#x27;Eine&#x27;, &#x27;Also&#x27;, &#x27;gehöre&#x27;, &#x27;kurz&#x27;, &#x27;Präsidentin&#x27;, &#x27;beg@@&#x27;, &#x27;inne&#x27;, &#x27;Vorredner&#x27;, &#x27;Worte&#x27;, &#x27;versichern&#x27;, &#x27;weshalb&#x27;, &#x27;Kollege&#x27;, &#x27;wohl&#x27;, &#x27;hne&#x27;, &#x27;Natürlich&#x27;, &#x27;fe&#x27;, &#x27;Dem&#x27;, &#x27;Sicht&#x27;, &#x27;Obgleich&#x27;, &#x27;Entschließung&#x27;, &#x27;Kollegen&#x27;, &#x27;Parlaments@@&#x27;, &#x27;Wissens&#x27;, &#x27;ßte&#x27;, &#x27;Nach&#x27;, &#x27;Zunächst&#x27;, &#x27;ha@@&#x27;, &#x27;Diesen&#x27;, &#x27;Auffassung&#x27;, &#x27;Dann&#x27;, &#x27;Wort@@&#x27;, &#x27;bean@@&#x27;, &#x27;Sicherlich&#x27;, &#x27;Ja&#x27;, &#x27;lasse&#x27;, &#x27;gesagt&#x27;, &#x27;Zudem&#x27;, &#x27;Herren&#x27;, &#x27;enne&#x27;, &#x27;Besonders&#x27;, &#x27;So@@&#x27;, &#x27;Hierzu&#x27;, &#x27;Dafür&#x27;, &#x27;Da@@&#x27;, &#x27;jedenfalls&#x27;, &#x27;Insofern&#x27;, &#x27;tu@@&#x27;, &#x27;anerk@@&#x27;, &#x27;anmerken&#x27;, &#x27;bemerken&#x27;, &#x27;schon&#x27;, &#x27;meldung&#x27;, &#x27;bedauere&#x27;, &#x27;einerseits&#x27;, &#x27;ere&#x27;, &#x27;brau@@&#x27;, &#x27;Allerdings&#x27;, &#x27;Frage&#x27;, &#x27;kenne&#x27;, &#x27;geehrte&#x27;, &#x27;Einer&#x27;, &#x27;abschließend&#x27;, &#x27;betonen&#x27;, &#x27;Ausgehend&#x27;, &#x27;Vielleicht&#x27;, &#x27;einverstanden&#x27;, &#x27;Rede@@&#x27;, &#x27;äußern&#x27;, &#x27;Vielen&#x27;, &#x27;Stelle&#x27;, &#x27;gestimmt&#x27;, &#x27;Des&#x27;, &#x27;rede&#x27;, &#x27;Eines&#x27;, &#x27;dachte&#x27;, &#x27;deshalb&#x27;, &#x27;Daran&#x27;, &#x27;pflich@@&#x27;, &#x27;Trotzdem&#x27;, &#x27;Änderungsanträgen&#x27;, &#x27;Kommissarin&#x27;, &#x27;erle@@&#x27;, &#x27;Vorbehalte&#x27;, &#x27;Bevor&#x27;, &#x27;hoffentlich&#x27;, &#x27;beglückwünsche&#x27;, &#x27;Schließlich&#x27;, &#x27;Zweitens&#x27;, &#x27;spare&#x27;, &#x27;Kommissionsmitglied&#x27;, &#x27;Abgeordneten&#x27;, &#x27;mag&#x27;, &#x27;aufrichtig&#x27;, &#x27;Kolleginnen&#x27;, &#x27;Sitzungs@@&#x27;, &#x27;Bedenken&#x27;, &#x27;hervorheben&#x27;, &#x27;erläu@@&#x27;, &#x27;Verständnis&#x27;, &#x27;he@@&#x27;, &#x27;feststellen&#x27;, &#x27;Hierbei&#x27;, &#x27;hierher&#x27;, &#x27;Um&#x27;, &#x27;Einen&#x27;, &#x27;mußte&#x27;, &#x27;verfol@@&#x27;, &#x27;Hinsichtlich&#x27;, &#x27;Genugtuung&#x27;, &#x27;wofür&#x27;, &#x27;danken&#x27;, &#x27;iere&#x27;, &#x27;bemerkt&#x27;, &#x27;behaup@@&#x27;, &#x27;diesbezüglich&#x27;, &#x27;Gleichwohl&#x27;, &#x27;gerne&#x27;, &#x27;muss&#x27;, &#x27;Weiteren&#x27;, &#x27;Bemerkungen&#x27;, &#x27;dass&#x27;, &#x27;betei@@&#x27;, &#x27;Einschätzung&#x27;, &#x27;Jetzt&#x27;, &#x27;Wort&#x27;, &#x27;Über&#x27;, &#x27;Wahrschein@@&#x27;, &#x27;Zugleich&#x27;, &#x27;respe@@&#x27;, &#x27;bekomm@@&#x27;, &#x27;Darum&#x27;, &#x27;ergrei@@&#x27;, &#x27;So&#x27;, &#x27;bestä@@&#x27;, &#x27;eingehen&#x27;, &#x27;Antwort&#x27;, &#x27;appelliere&#x27;, &#x27;lehne&#x27;, &#x27;akzep@@&#x27;, &#x27;tiere&#x27;, &#x27;Übrigen&#x27;, &#x27;beitrag&#x27;, &#x27;Dieser&#x27;, &#x27;Kön@@&#x27;, &#x27;Argumente&#x27;, &#x27;Dass&#x27;, &#x27;Je@@&#x27;, &#x27;denfalls&#x27;, &#x27;zweif@@&#x27;, &#x27;musste&#x27;, &#x27;letztes&#x27;, &#x27;Nein&#x27;, &#x27;empfehle&#x27;, &#x27;arbeit@@&#x27;, &#x27;erwähnen&#x27;, &#x27;erfahr@@&#x27;, &#x27;Ratspräsident&#x27;, &#x27;konnte&#x27;, &#x27;Ebenso&#x27;, &#x27;!&#x27;, &#x27;bezüglich&#x27;, &#x27;Heute&#x27;, &#x27;Bericht&#x27;, &#x27;anwesend&#x27;, &#x27;sagte&#x27;, &#x27;wiederholen&#x27;, &#x27;zunächst&#x27;, &#x27;beur@@&#x27;, &#x27;Folgendes&#x27;, &#x27;blei@@&#x27;, &#x27;außerordentlich&#x27;, &#x27;Kommissar&#x27;, &#x27;Dar@@&#x27;, &#x27;zäh@@&#x27;, &#x27;Berichterstatters&#x27;, &#x27;pfe&#x27;, &#x27;SV&#x27;, &#x27;Hoff@@&#x27;, &#x27;verehrte&#x27;, &#x27;einzugehen&#x27;, &#x27;Dieses&#x27;, &#x27;be@@&#x27;, &#x27;Welche&#x27;, &#x27;Dank&#x27;, &#x27;da&#x27;, &#x27;Andererseits&#x27;, &#x27;NL&#x27;, &#x27;Kann&#x27;, &#x27;beobach@@&#x27;, &#x27;gratuliere&#x27;, &#x27;rufe&#x27;, &#x27;Rat&#x27;, &#x27;vermutlich&#x27;, &#x27;Mitteilung&#x27;, &#x27;durfte&#x27;, &#x27;ausdrücken&#x27;, &#x27;Alles&#x27;, &#x27;vorliegenden&#x27;, &#x27;nachdrücklich&#x27;, &#x27;amtierenden&#x27;, &#x27;Ratspräsidenten&#x27;, &#x27;Hin@@&#x27;, &#x27;Zustimmung&#x27;, &#x27;übrigens&#x27;, &#x27;befür@@&#x27;, &#x27;chte&#x27;, &#x27;Ansonsten&#x27;, &#x27;erfreut&#x27;, &#x27;Ausdruck&#x27;, &#x27;Hinweis&#x27;, &#x27;Wertsch@@&#x27;, &#x27;klarstellen&#x27;, &#x27;rechn@@&#x27;, &#x27;-&#x27;, &#x27;kriti@@&#x27;, &#x27;Erwä@@&#x27;, &#x27;Kenntnis&#x27;, &#x27;Sicher&#x27;, &#x27;dies&#x27;, &#x27;Verheugen&#x27;, &#x27;chmals&#x27;, &#x27;Bitte&#x27;, &#x27;erinnern&#x27;, &#x27;anbelangt&#x27;, &#x27;daran&#x27;, &#x27;Selbstverständlich&#x27;, &#x27;anführen&#x27;, &#x27;Berichterstatter&#x27;, &#x27;Aussage&#x27;, &#x27;Ratspräsidentin&#x27;, &#x27;Ehr@@&#x27;, &#x27;Denn&#x27;, &#x27;wirklich&#x27;, &#x27;Präsidium&#x27;, &#x27;Unabhängi@@&#x27;, &#x27;Berichterstatterin&#x27;, &#x27;Nicht&#x27;, &#x27;Letz@@&#x27;, &#x27;Äuß@@&#x27;, &#x27;Anmerkung&#x27;, &#x27;Weil&#x27;, &#x27;erläutern&#x27;, &#x27;Liikanen&#x27;, &#x27;zutiefst&#x27;, &#x27;fas@@&#x27;, &#x27;itze&#x27;, &#x27;Punkte&#x27;, &#x27;versuche&#x27;, &#x27;füge&#x27;, &#x27;entschei@@&#x27;, &#x27;doch&#x27;, &#x27;noch&#x27;, &#x27;Aussprache&#x27;, &#x27;reiche&#x27;, &#x27;eigentlich&#x27;, &#x27;Anmerkungen&#x27;, &#x27;Moment&#x27;, &#x27;fand&#x27;, &#x27;drücklich&#x27;, &#x27;Vorschlag&#x27;, &#x27;hre&#x27;, &#x27;Worten&#x27;, &#x27;Lob&#x27;, &#x27;zuversichtlich&#x27;, &#x27;Zig@@&#x27;, &#x27;hole&#x27;, &#x27;antwor@@&#x27;, &#x27;liere&#x27;, &#x27;wissen&#x27;, &#x27;Appell&#x27;, &#x27;plä@@&#x27;, &#x27;bereits&#x27;, &#x27;überzeugt&#x27;, &#x27;schriftlich&#x27;, &#x27;Ein&#x27;, &#x27;entschuldigen&#x27;, &#x27;tre@@&#x27;, &#x27;Mitglied&#x27;, &#x27;Thema&#x27;, &#x27;ne&#x27;, &#x27;Verstän@@&#x27;, &#x27;verehrten&#x27;, &#x27;vermis@@&#x27;, &#x27;kunde&#x27;, &#x27;Barón&#x27;, &#x27;worten&#x27;, &#x27;froh&#x27;, &#x27;gefällt&#x27;, &#x27;auch&#x27;, &#x27;Bedauerlicherweise&#x27;, &#x27;Hohen&#x27;, &#x27;Vielmehr&#x27;, &#x27;bemü@@&#x27;, &#x27;wäre&#x27;, &#x27;benutz@@&#x27;, &#x27;schrei@@&#x27;, &#x27;vermu@@&#x27;, &#x27;Rede&#x27;, &#x27;ehrlich&#x27;, &#x27;Mein@@&#x27;, &#x27;messe&#x27;, &#x27;herz@@&#x27;, &#x27;Sinne&#x27;, &#x27;ganz&#x27;, &#x27;wünschte&#x27;, &#x27;Erstens&#x27;, &#x27;Beim&#x27;, &#x27;DA&#x27;, &#x27;Bezüglich&#x27;, &#x27;etwas&#x27;, &#x27;durchaus&#x27;, &#x27;verweisen&#x27;, &#x27;Fraktion&#x27;, &#x27;gangs&#x27;, &#x27;bitten&#x27;, &#x27;Aufgrund&#x27;, &#x27;Weiter&#x27;, &#x27;Gemeinsam&#x27;, &#x27;Gestern&#x27;, &#x27;Ausschusses&#x27;, &#x27;Gleichzeitig&#x27;, &#x27;Kommissars&#x27;, &#x27;zieh@@&#x27;, &#x27;so&#x27;, &#x27;letzt&#x27;, &#x27;te&#x27;, &#x27;Fraktionen&#x27;, &#x27;amtierender&#x27;, &#x27;fest&#x27;, &#x27;was&#x27;, &#x27;Hoffnung&#x27;, &#x27;weil&#x27;, &#x27;Eindruck&#x27;, &#x27;einige&#x27;, &#x27;antworten&#x27;, &#x27;dringlich&#x27;, &#x27;freut&#x27;, &#x27;berichten&#x27;, &#x27;Frattini&#x27;, &#x27;emp@@&#x27;, &#x27;Nur&#x27;, &#x27;Ist&#x27;, &#x27;Einwanderungspolitik&#x27;, &#x27;entlich&#x27;, &#x27;wus@@&#x27;, &#x27;beglückwünschen&#x27;, &#x27;Liebe&#x27;, &#x27;allerdings&#x27;, &#x27;beitra@@&#x27;, &#x27;Hab@@&#x27;, &#x27;soweit&#x27;, &#x27;damals&#x27;, &#x27;Moment@@&#x27;, &#x27;angeht&#x27;, &#x27;vorhin&#x27;, &#x27;verstanden&#x27;, &#x27;gefallen&#x27;, &#x27;Mandelson&#x27;, &#x27;Wor@@&#x27;, &#x27;Era@@&#x27;, &#x27;grü@@&#x27;, &#x27;Grunde&#x27;, &#x27;Einwände&#x27;, &#x27;Vertreterin&#x27;, &#x27;erklären&#x27;, &#x27;Werde&#x27;, &#x27;überein&#x27;, &#x27;erwähnte&#x27;, &#x27;Schluss&#x27;, &#x27;spiele&#x27;, &#x27;geehrter&#x27;, &#x27;sicher&#x27;, &#x27;zustimmen&#x27;, &#x27;Debatte&#x27;, &#x27;worüber&#x27;, &#x27;ermaßen&#x27;, &#x27;das&#x27;, &#x27;Übri@@&#x27;, &#x27;Vizepräsident&#x27;, &#x27;Kommission&#x27;, &#x27;benö@@&#x27;, &#x27;Ihre&#x27;, &#x27;gelesen&#x27;, &#x27;es&#x27;, &#x27;Insgesamt&#x27;, &#x27;Kollegin&#x27;, &#x27;Wo&#x27;, &#x27;PT&#x27;, &#x27;ermu@@&#x27;, &#x27;diesmal&#x27;, &#x27;Et@@&#x27;, &#x27;ansprechen&#x27;, &#x27;Glückwunsch&#x27;, &#x27;Leid&#x27;, &#x27;drücke&#x27;, &#x27;Ob&#x27;, &#x27;Zweifel@@&#x27;, &#x27;Lange&#x27;, &#x27;Man&#x27;, &#x27;zeige&#x27;, &#x27;gemeldet&#x27;, &#x27;plane&#x27;, &#x27;Redezeit&#x27;, &#x27;dieser&#x27;, &#x27;Plenar@@&#x27;, &#x27;üs@@&#x27;, &#x27;Genau&#x27;, &#x27;möge&#x27;, &#x27;spür@@&#x27;, &#x27;tim@@&#x27;, &#x27;zurückkommen&#x27;, &#x27;nu@@&#x27;, &#x27;fragte&#x27;, &#x27;Dür@@&#x27;, &#x27;Gedanken&#x27;, &#x27;dear&#x27;, &#x27;All&#x27;, &#x27;Stellungnahme&#x27;, &#x27;Umweltfragen&#x27;, &#x27;Verfasser&#x27;, &#x27;Überlegungen&#x27;, &#x27;nun&#x27;, &#x27;zol@@&#x27;, &#x27;Vorsitz&#x27;, &#x27;Schattenberichterstat@@&#x27;, &#x27;geäußer@@&#x27;, &#x27;anschließen&#x27;, &#x27;blicke&#x27;, &#x27;selber&#x27;, &#x27;Abschluß&#x27;, &#x27;stimmt&#x27;, &#x27;protesti@@&#x27;, &#x27;tut&#x27;, &#x27;Schluß&#x27;, &#x27;Bedauern&#x27;, &#x27;Parlaments&#x27;, &#x27;keines@@&#x27;, &#x27;Geschäftsordnung&#x27;, &#x27;wü@@&#x27;, &#x27;Entschuldigung&#x27;, &#x27;Parlament&#x27;, &#x27;nach&#x27;, &#x27;Änderungsanträge&#x27;, &#x27;aufgreifen&#x27;, &#x27;jedoch&#x27;, &#x27;führ@@&#x27;, &#x27;Viertens&#x27;, &#x27;Glück@@&#x27;, &#x27;hierzu&#x27;, &#x27;Plen@@&#x27;, &#x27;Angelegenheit&#x27;, &#x27;Empfehlung&#x27;, &#x27;Anbetracht&#x27;, &#x27;Befür@@&#x27;, &#x27;Präsidentschaft&#x27;, &#x27;festhalten&#x27;, &#x27;chmal&#x27;, &#x27;läßlich&#x27;, &#x27;Schon&#x27;, &#x27;ihn&#x27;, &#x27;Gegen&#x27;, &#x27;Nachdem&#x27;, &#x27;insofern&#x27;, &#x27;Feststellung&#x27;, &#x27;Freude&#x27;, &#x27;Befürwor@@&#x27;, &#x27;guilty&#x27;, &#x27;Möglicherweise&#x27;, &#x27;recht&#x27;, &#x27;schick@@&#x27;, &#x27;zufügen&#x27;, &#x27;allererst&#x27;, &#x27;Beitrag&#x27;, &#x27;vorgetragen&#x27;, &#x27;Mulder&#x27;, &#x27;Sache&#x27;, &#x27;We&#x27;, &#x27;talking&#x27;, &#x27;proo@@&#x27;, &#x27;fing&#x27;, &#x27;Anwesenheit&#x27;, &#x27;gave&#x27;, &#x27;think&#x27;, &#x27;receiving&#x27;, &#x27;downloaded&#x27;, &#x27;ordered&#x27;, &#x27;bought&#x27;, &#x27;Some&#x27;, &#x27;Manchmal&#x27;, &#x27;When&#x27;, &#x27;Beauti@@&#x27;, &#x27;ebenso&#x27;, &#x27;received&#x27;, &#x27;This&#x27;, &#x27;Thank&#x27;, &#x27;nice&#x27;, &#x27;really&#x27;, &#x27;gladly&#x27;, &#x27;ouldn&#x27;, &#x27;che&#x27;, &#x27;After&#x27;, &#x27;irgendwie&#x27;, &#x27;seems&#x27;, &#x27;It&#x27;, &#x27;allo&#x27;, &#x27;Which&#x27;, &#x27;Ebenfalls&#x27;, &#x27;kümm@@&#x27;, &#x27;remembered&#x27;, &#x27;The&#x27;, &#x27;Gute&#x27;, &#x27;someone&#x27;, &#x27;probably&#x27;, &#x27;Glei@@&#x27;, &#x27;My&#x27;, &#x27;promptly&#x27;, &#x27;How&#x27;, &#x27;always&#x27;, &#x27;love&#x27;, &#x27;Will&#x27;, &#x27;ately&#x27;, &#x27;dafür&#x27;, &#x27;Everything&#x27;, &#x27;Just&#x27;, &#x27;Maybe&#x27;, &#x27;actually&#x27;, &#x27;caught&#x27;, &#x27;father&#x27;, &#x27;Hi&#x27;, &#x27;ICH&#x27;, &#x27;toll&#x27;, &#x27;worse&#x27;, &#x27;le&#x27;, &#x27;Anyone&#x27;, &#x27;just&#x27;, &#x27;supposed&#x27;, &#x27;since&#x27;, &#x27;Obviously&#x27;, &#x27;wasn&#x27;, &#x27;Then&#x27;, &#x27;ese&#x27;, &#x27;Why&#x27;, &#x27;myself&#x27;, &#x27;Well&#x27;, &#x27;wrote&#x27;, &#x27;knew&#x27;, &#x27;Have&#x27;, &#x27;me&#x27;, &#x27;gerade&#x27;, &#x27;But&#x27;, &#x27;Any&#x27;, &#x27;went&#x27;, &#x27;nennen&#x27;, &#x27;could&#x27;, &#x27;Thanks&#x27;, &#x27;yesterday&#x27;, &#x27;There&#x27;, &#x27;Vergan@@&#x27;, &#x27;Good&#x27;, &#x27;tried&#x27;, &#x27;shame&#x27;, &#x27;stayed&#x27;, &#x27;You&#x27;, &#x27;Nice&#x27;, &#x27;happened&#x27;, &#x27;denn&#x27;, &#x27;Aussagen&#x27;, &#x27;While&#x27;, &#x27;have&#x27;, &#x27;Our&#x27;, &#x27;agree&#x27;, &#x27;besorgt&#x27;, &#x27;sah&#x27;, &#x27;my&#x27;, &#x27;importantly&#x27;, &#x27;bedanken&#x27;, &#x27;angesprochenen&#x27;, &#x27;beschäf@@&#x27;, &#x27;Muss&#x27;, &#x27;enttäuscht&#x27;, &#x27;Help&#x27;, &#x27;gestern&#x27;, &#x27;richtig&#x27;, &#x27;Behauptung&#x27;, &#x27;Hohe&#x27;, &#x27;bekam&#x27;, &#x27;Folgen@@&#x27;, &#x27;Glücklicherweise&#x27;, &#x27;I.&#x27;, &#x27;trotzdem&#x27;, &#x27;Nehmen&#x27;, &#x27;Schließ@@&#x27;, &#x27;hope&#x27;, &#x27;Folglich&#x27;, &#x27;Vorsitzender&#x27;, &#x27;Although&#x27;, &#x27;would&#x27;, &#x27;Not&#x27;, &#x27;very&#x27;, &#x27;euch&#x27;, &#x27;schau@@&#x27;, &#x27;gesprochen&#x27;, &#x27;vorstellen&#x27;, &#x27;beabsichti@@&#x27;, &#x27;mal&#x27;]</span><br><span class="line">resumed[&#x27;am&#x27;, &#x27;aufgenommen&#x27;, &#x27;15.00&#x27;, &#x27;wieder@@&#x27;, &#x27;21.@@&#x27;, &#x27;Donnerstag&#x27;, &#x27;unterbrochen&#x27;, &#x27;um&#x27;, &#x27;wieder&#x27;, &#x27;Wiederaufnahme&#x27;, &#x27;00&#x27;, &#x27;fortgesetzt&#x27;, &#x27;wurden&#x27;, &#x27;Uhr&#x27;, &#x27;15.@@&#x27;, &#x27;Aussprache&#x27;, &#x27;15.&#x27;, &#x27;nahm&#x27;, &#x27;resumed&#x27;, &#x27;è&#x27;, &#x27;pres@@&#x27;, &#x27;Freitag&#x27;, &#x27;13.&#x27;, &#x27;September&#x27;, &#x27;2005&#x27;]</span><br><span class="line">Friday[&#x27;Freitag&#x27;, &#x27;Am&#x27;, &#x27;am&#x27;, &#x27;Woche&#x27;, &#x27;:&#x27;, &#x27;Wochenende&#x27;, &#x27;bis&#x27;, &#x27;stag&#x27;, &#x27;fre@@&#x27;, &#x27;it@@&#x27;, &#x27;ags&#x27;, &#x27;Freit@@&#x27;, &#x27;ag@@&#x27;, &#x27;s@@&#x27;, &#x27;stattfinden&#x27;, &#x27;unseren&#x27;, &#x27;sitzung&#x27;, &#x27;vergangenen&#x27;, &#x27;Sitzung&#x27;, &#x27;kommenden&#x27;, &#x27;stattfindet&#x27;, &#x27;Sitz@@&#x27;, &#x27;stag@@&#x27;, &#x27;agen&#x27;, &#x27;andt&#x27;, &#x27;ag&#x27;, &#x27;jeweils&#x27;, &#x27;Samstag&#x27;, &#x27;Montag&#x27;, &#x27;vom&#x27;, &#x27;statt&#x27;, &#x27;gangenen&#x27;, &#x27;vor@@&#x27;, &#x27;abend&#x27;, &#x27;mittag&#x27;, &#x27;sam@@&#x27;, &#x27;Wochen@@&#x27;, &#x27;end@@&#x27;, &#x27;zwungen&#x27;, &#x27;Tag&#x27;, &#x27;tagen&#x27;, &#x27;sitz@@&#x27;, &#x27;Zum&#x27;, &#x27;tage&#x27;, &#x27;Sitzungen&#x27;, &#x27;Protokoll&#x27;, &#x27;aufgenommen&#x27;, &#x27;anwesend&#x27;, &#x27;itage&#x27;, &#x27;Der&#x27;, &#x27;Friday&#x27;, &#x27;täglich&#x27;, &#x27;findet&#x27;, &#x27;Sowohl&#x27;, &#x27;Juli&#x27;, &#x27;True&#x27;, &#x27;24.@@&#x27;, &#x27;7.@@&#x27;, &#x27;ven@@&#x27;, &#x27;dre@@&#x27;, &#x27;21.@@&#x27;, &#x27;Jeden&#x27;, &#x27;Uhr&#x27;, &#x27;Donnerstag&#x27;, &#x27;M@@&#x27;, &#x27;tags&#x27;, &#x27;2008&#x27;, &#x27;12.&#x27;, &#x27;2007&#x27;, &#x27;15.00&#x27;, &#x27;mitt@@&#x27;, &#x27;EST&#x27;, &#x27;10&#x27;, &#x27;di&#x27;, &#x27;jeden&#x27;, &#x27;besetzt&#x27;, &#x27;r.&#x27;, &#x27;Mon@@&#x27;, &#x27;März&#x27;, &#x27;Besu@@&#x27;, &#x27;Fei@@&#x27;, &#x27;geöffnet&#x27;, &#x27;tes@@&#x27;, &#x27;serviert&#x27;, &#x27;30&#x27;, &#x27;Januar&#x27;, &#x27;Sunday&#x27;, &#x27;00&#x27;, &#x27;Straßburg&#x27;, &#x27;03&#x27;, &#x27;Kar@@&#x27;, &#x27;09&#x27;, &#x27;pm&#x27;, &#x27;Tuesday&#x27;, &#x27;.00&#x27;, &#x27;mentary&#x27;, &#x27;Dienstag&#x27;, &#x27;26&#x27;, &#x27;ì&#x27;, &#x27;Mittag@@&#x27;, &#x27;Abend&#x27;, &#x27;fuhren&#x27;, &#x27;Shop&#x27;, &#x27;Mittwoch&#x27;, &#x27;zeiten&#x27;, &#x27;morgen&#x27;, &#x27;3&#x27;, &#x27;max&#x27;, &#x27;Sonntag&#x27;, &#x27;13.&#x27;, &#x27;September&#x27;, &#x27;Juni&#x27;, &#x27;Diesel@@&#x27;, &#x27;wertung&#x27;, &#x27;Von&#x27;, &#x27;Bern&#x27;, &#x27;morgens&#x27;]</span><br><span class="line">17[&#x27;17.&#x27;, &#x27;17&#x27;, &#x27;vom&#x27;, &#x27;:&#x27;, &#x27;sieb@@&#x27;, &#x27;zehn&#x27;, &#x27;17@@&#x27;, &#x27;;&#x27;, &#x27;@-@&#x27;, &#x27;17.@@&#x27;, &#x27;Sie@@&#x27;, &#x27;bis&#x27;, &#x27;insgesamt&#x27;, &#x27;.-@@&#x27;, &#x27;Jahren&#x27;, &#x27;Nr.&#x27;, &#x27;16.&#x27;, &#x27;19&#x27;, &#x27;am&#x27;, &#x27;jährigen&#x27;, &#x27;(&#x27;, &#x27;)&#x27;, &#x27;9&#x27;, &#x27;1@@&#x27;, &#x27;25&#x27;, &#x27;21&#x27;, &#x27;27&#x27;, &#x27;10&#x27;, &#x27;knapp&#x27;, &#x27;18&#x27;, &#x27;1&#x27;, &#x27;zehn@@&#x27;, &#x27;14&#x27;, &#x27;h&#x27;, &#x27;20&#x27;, &#x27;45&#x27;, &#x27;Uhr&#x27;, &#x27;06&#x27;, &#x27;Erdbeben&#x27;, &#x27;18.&#x27;, &#x27;28&#x27;, &#x27;93&#x27;, &#x27;7&#x27;, &#x27;32&#x27;, &#x27;16&#x27;, &#x27;Februar&#x27;, &#x27;Januar&#x27;, &#x27;15&#x27;, &#x27;33&#x27;, &#x27;37&#x27;, &#x27;09&#x27;, &#x27;00&#x27;, &#x27;30&#x27;, &#x27;11&#x27;, &#x27;Euro&#x27;, &#x27;77&#x27;, &#x27;92&#x27;, &#x27;November&#x27;, &#x27;2@@&#x27;, &#x27;September&#x27;, &#x27;12@@&#x27;, &#x27;112&#x27;, &#x27;12&#x27;, &#x27;41&#x27;, &#x27;2&#x27;, &#x27;31&#x27;, &#x27;23&#x27;, &#x27;6&#x27;, &#x27;08&#x27;, &#x27;22&#x27;, &#x27;35&#x27;, &#x27;24&#x27;, &#x27;um&#x27;, &#x27;44&#x27;, &#x27;5&#x27;, &#x27;07&#x27;, &#x27;Ju@@&#x27;, &#x27;8&#x27;, &#x27;/&#x27;, &#x27;Mai&#x27;, &#x27;2003&#x27;, &#x27;Jahr&#x27;, &#x27;04&#x27;, &#x27;Paris&#x27;, &#x27;v&#x27;, &#x27;last&#x27;, &#x27;statt&#x27;, &#x27;Juni&#x27;, &#x27;3@@&#x27;, &#x27;Alter&#x27;, &#x27;Air&#x27;, &#x27;34&#x27;, &#x27;stehung&#x27;, &#x27;August&#x27;, &#x27;15@@&#x27;, &#x27;term&#x27;, &#x27;Jahres&#x27;, &#x27;nan@@&#x27;, &#x27;Oktober&#x27;, &#x27;18@@&#x27;, &#x27;4@@&#x27;, &#x27;6@@&#x27;, &#x27;Juli&#x27;, &#x27;Dezember&#x27;, &#x27;13&#x27;, &#x27;19@@&#x27;, &#x27;20.&#x27;, &#x27;2006&#x27;, &#x27;47&#x27;, &#x27;blatt&#x27;, &#x27;December&#x27;, &#x27;27@@&#x27;, &#x27;Vereinbarung&#x27;, &#x27;95&#x27;, &#x27;54&#x27;, &#x27;00@@&#x27;, &#x27;03&#x27;, &#x27;9.&#x27;, &#x27;page&#x27;, &#x27;2009&#x27;, &#x27;3&#x27;, &#x27;mbol&#x27;, &#x27;June&#x27;, &#x27;43&#x27;, &#x27;*&#x27;, &#x27;000&#x27;]</span><br><span class="line">December[&#x27;Dezember&#x27;, &#x27;vom&#x27;, &#x27;am&#x27;, &#x27;letzten&#x27;, &#x27;Jahres&#x27;, &#x27;Dez@@&#x27;, &#x27;em@@&#x27;, &#x27;ber@@&#x27;, &#x27;12.@@&#x27;, &#x27;vergangenen&#x27;, &#x27;im&#x27;, &#x27;12.&#x27;, &#x27;hat&#x27;, &#x27;bis&#x27;, &#x27;soll&#x27;, &#x27;zum&#x27;, &#x27;1999&#x27;, &#x27;unterzeichnet&#x27;, &#x27;Anfang&#x27;, &#x27;vorgelegt&#x27;, &#x27;hatte&#x27;, &#x27;legte&#x27;, &#x27;wurde&#x27;, &#x27;stattgefunden&#x27;, &#x27;des@@&#x27;, &#x27;Monat&#x27;, &#x27;Einigung&#x27;, &#x27;ember&#x27;, &#x27;Im&#x27;, &#x27;aufgenommen&#x27;, &#x27;ab&#x27;, &#x27;abgeschlossen&#x27;, &#x27;verabschiedeten&#x27;, &#x27;Kraft&#x27;, &#x27;laufen&#x27;, &#x27;2001&#x27;, &#x27;verabschiedet&#x27;, &#x27;Am&#x27;, &#x27;September&#x27;, &#x27;statt&#x27;, &#x27;December&#x27;, &#x27;trat&#x27;, &#x27;nete&#x27;, &#x27;z&#x27;, &#x27;2002&#x27;, &#x27;begrü@@&#x27;, &#x27;kam&#x27;, &#x27;worden&#x27;, &#x27;2000&#x27;, &#x27;De@@&#x27;, &#x27;nahm&#x27;, &#x27;15.&#x27;, &#x27;übergeben&#x27;, &#x27;beschlossen&#x27;, &#x27;tag@@&#x27;, &#x27;angenommen&#x27;, &#x27;vorzulegen&#x27;, &#x27;getreten&#x27;, &#x27;seiner&#x27;, &#x27;Tagung&#x27;, &#x27;waren&#x27;, &#x27;gebilligt&#x27;, &#x27;unterbreit@@&#x27;, &#x27;ete&#x27;, &#x27;stattfand&#x27;, &#x27;stattfindet&#x27;, &#x27;3.&#x27;, &#x27;Staats-&#x27;, &#x27;Regierungschefs&#x27;, &#x27;2003&#x27;, &#x27;erneut&#x27;, &#x27;dieses&#x27;, &#x27;verkün@@&#x27;, &#x27;dete&#x27;, &#x27;2004&#x27;, &#x27;vorlegen&#x27;, &#x27;erreichte&#x27;, &#x27;2005&#x27;, &#x27;Gültigkeit&#x27;, &#x27;5.&#x27;, &#x27;Rates&#x27;, &#x27;2006&#x27;, &#x27;bestätigt&#x27;, &#x27;13.&#x27;, &#x27;2007&#x27;, &#x27;veröffentlicht&#x27;, &#x27;1.&#x27;, &#x27;19.&#x27;, &#x27;31.&#x27;, &#x27;angekün@@&#x27;, &#x27;embers&#x27;, &#x27;angenommene&#x27;, &#x27;unterzeichnen&#x27;, &#x27;kommenden&#x27;, &#x27;mussten&#x27;, &#x27;erfolgte&#x27;, &#x27;Ab&#x27;, &#x27;stattfinden&#x27;, &#x27;Sitzung&#x27;, &#x27;rat&#x27;, &#x27;endete&#x27;, &#x27;2010&#x27;, &#x27;festgelegt&#x27;, &#x27;1995&#x27;, &#x27;1996&#x27;, &#x27;datum&#x27;, &#x27;7.&#x27;, &#x27;gültig&#x27;, &#x27;1997&#x27;, &#x27;Ende&#x27;, &#x27;eingereicht&#x27;, &#x27;8.&#x27;, &#x27;selben&#x27;, &#x27;ECOFIN&#x27;, &#x27;Oktober&#x27;, &#x27;17.&#x27;, &#x27;Monats&#x27;, &#x27;November&#x27;, &#x27;Erklärung&#x27;, &#x27;1998&#x27;, &#x27;Forderungen&#x27;, &#x27;verabschie@@&#x27;, &#x27;spätestens&#x27;, &#x27;Inneres&#x27;, &#x27;konferenz&#x27;, &#x27;Betrieb&#x27;, &#x27;16.&#x27;, &#x27;29.&#x27;, &#x27;23.&#x27;, &#x27;27.&#x27;, &#x27;bre&#x27;, &#x27;ami&#x27;, &#x27;9.&#x27;, &#x27;4.&#x27;, &#x27;ey&#x27;, &#x27;26.&#x27;, &#x27;2.&#x27;, &#x27;hatten&#x27;, &#x27;14.&#x27;, &#x27;10.&#x27;, &#x27;US&#x27;, &#x27;Heinrich&#x27;, &#x27;2008&#x27;, &#x27;beschäf@@&#x27;, &#x27;August&#x27;, &#x27;22.&#x27;, &#x27;erklärte&#x27;, &#x27;April&#x27;, &#x27;stag&#x27;, &#x27;3@@&#x27;, &#x27;bunal&#x27;, &#x27;nachdem&#x27;, &#x27;Kriegs@@&#x27;, &#x27;seit&#x27;, &#x27;2012&#x27;, &#x27;igte&#x27;, &#x27;2009&#x27;, &#x27;race&#x27;, &#x27;Weihnachts@@&#x27;, &#x27;Verlei@@&#x27;, &#x27;hung&#x27;, &#x27;1.@@&#x27;, &#x27;Monaten&#x27;, &#x27;20.&#x27;, &#x27;Dé@@&#x27;, &#x27;geleistet&#x27;, &#x27;Weihnachten&#x27;, &#x27;Januar&#x27;, &#x27;25.&#x27;, &#x27;Februar&#x27;, &#x27;Bis&#x27;, &#x27;Vom&#x27;, &#x27;18.&#x27;, &#x27;Der&#x27;, &#x27;abgehalten&#x27;, &#x27;01&#x27;, &#x27;12&#x27;, &#x27;Vorbereitungen&#x27;, &#x27;farbe&#x27;, &#x27;fassten&#x27;, &#x27;stimm@@&#x27;]</span><br></pre></td></tr></table></figure></li>
<li><p>德语单词的对齐样例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ich[&#x27;I&#x27;, &#x27;It&#x27;, &#x27;like&#x27;, &#x27;Madam&#x27;, &#x27;My&#x27;, &#x27;saying&#x27;, &#x27;should&#x27;, &#x27;In&#x27;, &#x27;As&#x27;, &#x27;But&#x27;, &#x27;would&#x27;, &#x27;want&#x27;, &#x27;Let&#x27;, &#x27;wish&#x27;, &#x27;At&#x27;, &#x27;shall&#x27;, &#x27;There&#x27;, &#x27;am&#x27;, &#x27;This&#x27;, &#x27;On&#x27;, &#x27;see&#x27;, &#x27;Having&#x27;, &#x27;Commissioner&#x27;, &#x27;will&#x27;, &#x27;that&#x27;, &#x27;What&#x27;, &#x27;me&#x27;, &#x27;do&#x27;, &#x27;have&#x27;, &#x27;Like&#x27;, &#x27;honourable&#x27;, &#x27;Well&#x27;, &#x27;Allow&#x27;, &#x27;agree&#x27;, &#x27;myself&#x27;, &#x27;When&#x27;, &#x27;So&#x27;, &#x27;And&#x27;, &#x27;hope&#x27;, &#x27;also&#x27;, &#x27;believe&#x27;, &#x27;think&#x27;, &#x27;For&#x27;, &#x27;my&#x27;, &#x27;SV&#x27;, &#x27;Mr&#x27;, &#x27;President&#x27;, &#x27;May&#x27;, &#x27;note&#x27;, &#x27;sympathy&#x27;, &#x27;urge&#x27;, &#x27;DE&#x27;, &#x27;However&#x27;, &#x27;With&#x27;, &#x27;wholeheartedly&#x27;, &#x27;Indeed&#x27;, &#x27;remind&#x27;, &#x27;welcome&#x27;, &#x27;To&#x27;, &#x27;commend&#x27;, &#x27;Although&#x27;, &#x27;Moreover&#x27;, &#x27;wonder&#x27;, &#x27;(&#x27;, &#x27;FR&#x27;, &#x27;mention&#x27;, &#x27;gentlemen&#x27;, &#x27;PT&#x27;, &#x27;Without&#x27;, &#x27;Perhaps&#x27;, &#x27;All&#x27;, &#x27;Ladies&#x27;, &#x27;Can&#x27;, &#x27;Please&#x27;, &#x27;give&#x27;, &#x27;Here&#x27;, &#x27;must&#x27;, &#x27;Could&#x27;, &#x27;say&#x27;, &#x27;Together&#x27;, &#x27;Now&#x27;, &#x27;Yet&#x27;, &#x27;While&#x27;, &#x27;feel&#x27;, &#x27;If&#x27;, &#x27;suggest&#x27;, &#x27;Just&#x27;, &#x27;ladies&#x27;, &#x27;Further&#x27;, &#x27;certainly&#x27;, &#x27;That&#x27;, &#x27;Certainly&#x27;, &#x27;Spe@@&#x27;, &#x27;aking&#x27;, &#x27;Next&#x27;, &#x27;personally&#x27;, &#x27;accept&#x27;, &#x27;really&#x27;, &#x27;thoughts&#x27;, &#x27;understand&#x27;, &#x27;refer&#x27;, &#x27;Yes&#x27;, &#x27;Instead&#x27;, &#x27;therefore&#x27;, &#x27;Another&#x27;, &#x27;just&#x27;, &#x27;repeat&#x27;, &#x27;speak&#x27;, &#x27;favour&#x27;, &#x27;very&#x27;, &#x27;One&#x27;, &#x27;strongly&#x27;, &#x27;By&#x27;, &#x27;NL&#x27;, &#x27;Along&#x27;, &#x27;Furthermore&#x27;, &#x27;appreciate&#x27;, &#x27;Will&#x27;, &#x27;applau@@&#x27;, &#x27;know&#x27;, &#x27;hear&#x27;, &#x27;regret&#x27;, &#x27;Whilst&#x27;, &#x27;argue&#x27;, &#x27;Finally&#x27;, &#x27;suspect&#x27;, &#x27;Firstly&#x27;, &#x27;Of&#x27;, &#x27;emphasise&#x27;, &#x27;Once&#x27;, &#x27;support&#x27;, &#x27;grateful&#x27;, &#x27;call&#x27;, &#x27;Following&#x27;, &#x27;sincerely&#x27;, &#x27;Person@@&#x27;, &#x27;Naturally&#x27;, &#x27;Tur@@&#x27;, &#x27;Mrs&#x27;, &#x27;point&#x27;, &#x27;From&#x27;, &#x27;Thank&#x27;, &#x27;Since&#x27;, &#x27;Be&#x27;, &#x27;Quite&#x27;, &#x27;opinion&#x27;, &#x27;ally&#x27;, &#x27;fact&#x27;, &#x27;gratul@@&#x27;, &#x27;Very&#x27;, &#x27;tell&#x27;, &#x27;cannot&#x27;, &#x27;ask&#x27;, &#x27;Neither&#x27;, &#x27;pleased&#x27;, &#x27;Above&#x27;, &#x27;conclude&#x27;, &#x27;endorse&#x27;, &#x27;Therefore&#x27;, &#x27;Nevertheless&#x27;, &#x27;Some&#x27;, &#x27;listened&#x27;, &#x27;thank&#x27;, &#x27;Rather&#x27;, &#x27;delighted&#x27;, &#x27;acknowledge&#x27;, &#x27;recognise&#x27;, &#x27;quote&#x27;, &#x27;share&#x27;, &#x27;firmly&#x27;, &#x27;trust&#x27;, &#x27;Lastly&#x27;, &#x27;owe&#x27;, &#x27;Regarding&#x27;, &#x27;Unlike&#x27;, &#x27;No&#x27;, &#x27;reiterate&#x27;, &#x27;look&#x27;, &#x27;imagine&#x27;, &#x27;writing&#x27;, &#x27;happy&#x27;, &#x27;glad&#x27;, &#x27;wanted&#x27;, &#x27;invite&#x27;, &#x27;Where&#x27;, &#x27;referring&#x27;, &#x27;Any@@&#x27;, &#x27;ij&#x27;, &#x27;Consequently&#x27;, &#x27;express&#x27;, &#x27;Not&#x27;, &#x27;pay&#x27;, &#x27;draw&#x27;, &#x27;Being&#x27;, &#x27;Again&#x27;, &#x27;declare&#x27;, &#x27;After&#x27;, &#x27;recall&#x27;, &#x27;Then&#x27;, &#x27;sal@@&#x27;, &#x27;Today&#x27;, &#x27;gladly&#x27;, &#x27;Would&#x27;, &#x27;reply&#x27;, &#x27;Nor&#x27;, &#x27;Do&#x27;, &#x27;thinking&#x27;, &#x27;confirm&#x27;, &#x27;stress&#x27;, &#x27;IT&#x27;, &#x27;said&#x27;, &#x27;apolog@@&#x27;, &#x27;explain&#x27;, &#x27;genuinely&#x27;, &#x27;Taking&#x27;, &#x27;First&#x27;, &#x27;Nonetheless&#x27;, &#x27;sorry&#x27;, &#x27;attention&#x27;, &#x27;voted&#x27;, &#x27;hereby&#x27;, &#x27;Even&#x27;, &#x27;Surely&#x27;, &#x27;hear@@&#x27;, &#x27;How&#x27;, &#x27;comments&#x27;, &#x27;.-&#x27;, &#x27;Ich&#x27;, &#x27;During&#x27;, &#x27;convinced&#x27;, &#x27;pointing&#x27;, &#x27;My@@&#x27;, &#x27;Commission&#x27;, &#x27;this&#x27;, &#x27;&amp;apos;m&#x27;, &#x27;simply&#x27;, &#x27;Obviously&#x27;, &#x27;realise&#x27;, &#x27;Thanks&#x27;, &#x27;behalf&#x27;, &#x27;objection&#x27;, &#x27;assure&#x27;, &#x27;emph@@&#x27;, &#x27;dare&#x27;, &#x27;Wallström&#x27;, &#x27;seems&#x27;, &#x27;Defin@@&#x27;, &#x27;SK&#x27;, &#x27;PL&#x27;, &#x27;ALDE&#x27;, &#x27;EL&#x27;, &#x27;Member&#x27;, &#x27;rapporteur&#x27;, &#x27;Verts&#x27;, &#x27;inform&#x27;, &#x27;HU&#x27;, &#x27;approve&#x27;, &#x27;ES&#x27;, &#x27;fully&#x27;, &#x27;intend&#x27;, &#x27;to&#x27;, &#x27;Have&#x27;, &#x27;honest@@&#x27;, &#x27;depl@@&#x27;, &#x27;convey&#x27;, &#x27;Me&#x27;, &#x27;congratulate&#x27;, &#x27;abstained&#x27;, &#x27;Hence&#x27;, &#x27;More&#x27;, &#x27;add&#x27;, &#x27;Frank@@&#x27;, &#x27;emphasize&#x27;, &#x27;Take&#x27;, &#x27;comment&#x27;, &#x27;I.&#x27;, &#x27;disagree&#x27;, &#x27;consider&#x27;, &#x27;conf@@&#x27;, &#x27;Amendment&#x27;, &#x27;Did&#x27;, &#x27;congratulations&#x27;, &#x27;speaking&#x27;, &#x27;echo&#x27;, &#x27;prefer&#x27;, &#x27;She&#x27;, &#x27;Hon@@&#x27;, &#x27;&amp;apos;d&#x27;, &#x27;)&#x27;, &#x27;don&#x27;, &#x27;ego&#x27;, &#x27;&amp;apos;ve&#x27;, &#x27;Und&#x27;, &#x27;Happ@@&#x27;, &#x27;Excellent&#x27;, &#x27;thought&#x27;, &#x27;Wir&#x27;, &#x27;Hi&#x27;, &#x27;Kann&#x27;, &#x27;Hop@@&#x27;, &#x27;Je&#x27;, &#x27;propose&#x27;, &#x27;Sor@@&#x27;, &#x27;&amp;apos;ll&#x27;, &#x27;keen&#x27;, &#x27;Danke&#x27;, &#x27;Still&#x27;, &#x27;sehe&#x27;]</span><br><span class="line">erkläre[&#x27;declare&#x27;, &#x27;resumed&#x27;, &#x27;session&#x27;, &#x27;explain&#x27;, &#x27;ad@@&#x27;, &#x27;state&#x27;, &#x27;say&#x27;, &#x27;announce&#x27;, &#x27;confirm&#x27;, &#x27;hereby&#x27;, &#x27;open&#x27;, &#x27;shall&#x27;, &#x27;declar@@&#x27;, &#x27;I&#x27;, &#x27;jour@@&#x27;, &#x27;ned&#x27;, &#x27;inge&#x27;, &#x27;closed&#x27;, &#x27;affir@@&#x27;, &#x27;concluded&#x27;, &#x27;agree&#x27;, &#x27;explains&#x27;, &#x27;the&#x27;, &#x27;196&#x27;, &#x27;03&#x27;]</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<p>接下来，我有如下的几个发现:</p>
<ul>
<li>fast align 是可以建模出正确的对齐的<code>I→Ich erkläre→declare ...</code>;</li>
<li>fast align 在大规模数据集上制造了太多的不正确对齐关系<code>I→nice really gladly ...</code>。</li>
</ul>
<h5 id="1-3-个人想法"><a href="#1-3-个人想法" class="headerlink" title="1.3 个人想法"></a>1.3 个人想法</h5><p>总的来说，fast align 能够起到对齐的作用，但它的对齐准确率显然不高。所以，我觉得如果只是那 fast align 去指导一个完全没有中间结构来辅助的翻译模型的话，该模型的翻译质量能够得到有效的提升；但是，<strong>如果想在 NAT 方面促成一个 SOTA 成绩的非自回归翻译模型的话，恐怕是心有余而力不足了</strong>。</p>
<h4 id="2-GIZA"><a href="#2-GIZA" class="headerlink" title="2 GIZA++"></a>2 GIZA++</h4><h5 id="2-1-检查词对齐文本数据"><a href="#2-1-检查词对齐文本数据" class="headerlink" title="2.1 检查词对齐文本数据"></a>2.1 检查词对齐文本数据</h5><p>从之前展示的一些文件内容来看，我发现</p>
<ol>
<li>一些文件<code>en2de.A3.final</code> <code>en2de.n3.final</code> <code>...</code>的含义明显要比 fast align 所生成的对齐文件内容要丰富很多，如<code>en2de.n3.final</code>文件可以更好地观察单词的繁殖力、<code>en2de.A3.final</code>文件可以更好地观察整个句子的对齐情况；</li>
<li>虽然随着迭代次数的增加, 我们可以发现<code>en2de.perp</code>对齐的困惑度有在减小，但是最终的困惑度仍然很高(≈90)，而且我们还可以发现隐马尔可夫模型的困惑度是最低的，而不是最终迭代的IBM Model 4；</li>
<li>有些文件<code>en2de.d3.final</code> <code>en2de.a3.final</code> <code>...</code>的内容对于新手而言根本看不懂是什么意思，过于晦涩；</li>
<li><code>en2de.A3.final</code>文件中<code>I (&#123; 1 &#125;) declare (&#123; 2 &#125;)</code>说明模型能够建模正确的对齐关系(‘I’对齐’Ich’, ‘declare’对齐’erkläre’)，<code>NULL (&#123; 3 6 7 15 17 23 25 27 &#125;) the (&#123; &#125;)</code>说明模型还是会有漏掉对齐的情况存在(‘die’表示’这’，’the’应该是对齐’die’的)，<code>I (&#123; 1 &#125;) would (&#123; &#125;)</code>说明模型存在错误对齐的情况(‘Könnten’可以与’would’对齐，但是模型却将’I’对齐到’Könnten’)；</li>
</ol>
<h5 id="2-2-个人想法"><a href="#2-2-个人想法" class="headerlink" title="2.2 个人想法"></a>2.2 个人想法</h5><p>GIZA++的对齐能力明显优于fast align，但这也意味着更多的时间开销，并且GIZA++的对齐中也有不正确的情况存在。总的来说，如果用GIZA++就需要<strong>在获取对齐时花费更多的时间，但是能够在性能上取得一定的提升</strong>。</p>

      
    </div>
    <footer class="entry-meta entry-footer">
      
	<span class="ico-folder"></span>
    <a class="article-category-link" href="/categories/Statistical-Machine-Translation/">Statistical Machine Translation</a>

      
  <span class="ico-tags"></span>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Alignment/" rel="tag">Alignment</a></li></ul>

            
      
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <div id="vcomments"></div>
    <script>
        var notify = 'false' == true ? true : false;
        var verify = 'false' == true ? true : false;
        window.onload = function() {
            new Valine({
                el: '#vcomments',
                notify: notify,
                verify: verify,
                app_id: "rRPDoEKWwnOvFa6kDEm3uFe7-gzGzoHsz",
                app_key: "hqI6QzzH8hYVIkKeVsMeWGOi",
                placeholder: "写下你的评论吧~",
                avatar:"retro"
            });
        }
    </script>


      
    </footer>
    <hr class="entry-footer-hr">
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/11/24/End-to-End-Non-Autoregressive-Neural-Machine-Translation-with-Connectionist-Temporal-Classification/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          End-to-End Non-Autoregressive Neural Machine Translation with Connectionist Temporal Classification
        
      </div>
    </a>
  
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">Contents</strong>
    
      <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#mathfrak-Fast-Align"><span class="nav-number">1.</span> <span class="nav-text">$\mathfrak{Fast\ \ \ Align}$</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BB%8E-Github-%E4%B8%8A%E4%B8%8B%E8%BD%BD-fast-align"><span class="nav-number">1.1.</span> <span class="nav-text">1. 从 Github 上下载 fast_align</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E7%BC%96%E8%AF%91-fast-align"><span class="nav-number">1.2.</span> <span class="nav-text">2. 通过以下命令编译 fast_align</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%87%86%E5%A4%87%E5%B9%B3%E8%A1%8C%E8%AF%AD%E6%96%99-%E5%8F%AF%E4%BB%A5-tokenize-%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%B8%8D-tokenize"><span class="nav-number">1.3.</span> <span class="nav-text">3. 准备平行语料 ( 可以 tokenize , 也可以不 tokenize )</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E7%BC%96%E5%86%99-python-%E6%9D%A5%E6%89%A7%E8%A1%8C-fast-align"><span class="nav-number">1.4.</span> <span class="nav-text">4. 编写 python 来执行 fast_align</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%B0%86%E8%BE%93%E5%87%BA%E6%96%87%E4%BB%B6%E4%B8%AD%E6%95%B0%E5%AD%97-ids-%E8%BD%AC%E6%8D%A2%E6%88%90-tokens-%E5%AF%B9%E9%BD%90"><span class="nav-number">1.5.</span> <span class="nav-text">5. 将输出文件中数字 ids 转换成 tokens 对齐</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mathfrak-GIZA"><span class="nav-number">2.</span> <span class="nav-text">$\mathfrak{GIZA++}$</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BB%8E-Github-%E4%B8%8A%E4%B8%8B%E8%BD%BD-GIZA"><span class="nav-number">2.1.</span> <span class="nav-text">1. 从 Github 上下载 GIZA++</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%80%9A%E8%BF%87%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E7%BC%96%E8%AF%91-GIZA"><span class="nav-number">2.2.</span> <span class="nav-text">2. 通过以下命令编译 GIZA++</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%87%86%E5%A4%87%E5%B9%B3%E8%A1%8C%E8%AF%AD%E6%96%99"><span class="nav-number">2.3.</span> <span class="nav-text">3. 准备平行语料</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E4%B8%BA%E5%8F%A5%E5%AD%90%E5%92%8C%E5%8D%95%E8%AF%8D%E8%BF%9B%E8%A1%8C%E7%BC%96%E5%8F%B7"><span class="nav-number">2.4.</span> <span class="nav-text">4. 为句子和单词进行编号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E7%94%9F%E6%88%90%E5%85%B1%E7%8E%B0%E6%96%87%E4%BB%B6"><span class="nav-number">2.5.</span> <span class="nav-text">5. 生成共现文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E7%94%9F%E6%88%90%E8%AF%8D%E7%B1%BB"><span class="nav-number">2.6.</span> <span class="nav-text">6. 生成词类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E8%BF%90%E8%A1%8CGIZA"><span class="nav-number">2.7.</span> <span class="nav-text">7. 运行GIZA++</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mathfrak-Thought"><span class="nav-number">3.</span> <span class="nav-text">$\mathfrak{Thought}$</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-fast-align"><span class="nav-number">3.1.</span> <span class="nav-text">1. fast align</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-%E6%A3%80%E6%9F%A5%E5%8F%A5%E5%86%85%E5%AF%B9%E9%BD%90%E5%85%B3%E7%B3%BB"><span class="nav-number">3.1.1.</span> <span class="nav-text">1.1 检查句内对齐关系</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-%E6%A3%80%E6%9F%A5%E8%AF%AD%E6%96%99%E5%BA%93%E4%B8%8A%E7%9A%84%E5%AF%B9%E9%BD%90%E5%85%B3%E7%B3%BB"><span class="nav-number">3.1.2.</span> <span class="nav-text">1.2 检查语料库上的对齐关系</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-%E4%B8%AA%E4%BA%BA%E6%83%B3%E6%B3%95"><span class="nav-number">3.1.3.</span> <span class="nav-text">1.3 个人想法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-GIZA"><span class="nav-number">3.2.</span> <span class="nav-text">2 GIZA++</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-%E6%A3%80%E6%9F%A5%E8%AF%8D%E5%AF%B9%E9%BD%90%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE"><span class="nav-number">3.2.1.</span> <span class="nav-text">2.1 检查词对齐文本数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-%E4%B8%AA%E4%BA%BA%E6%83%B3%E6%B3%95"><span class="nav-number">3.2.2.</span> <span class="nav-text">2.2 个人想法</span></a></li></ol></li></ol></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>

    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    <footer id="footer" class="site-footer">
  

  <div class="clearfix container">
      <div class="site-info">
	      &copy; 2022 Sylvanas Forever All Rights Reserved.
        
            <span id="busuanzi_container_site_pv">
            本站总访问量<span id="busuanzi_value_site_pv"></span>次
            </span>
          
      </div>
      <div class="site-credit">
        Theme by <a href="https://github.com/iTimeTraveler/hexo-theme-hipaper" target="_blank">hipaper</a>
      </div>
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");

    wrapdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";
    contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("allheader").offsetHeight - document.getElementById("footer").offsetHeight + "px";


    <!-- headerblur min height -->
    
    
</script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    
<div style="display: none;">
  <script src="https://s11.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
</div>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>


<script src="/js/bootstrap.js"></script>


<script src="/js/main.js"></script>








  <div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js" async=""></script>
</body>
</html>
